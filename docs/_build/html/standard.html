

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Standard Loans &mdash; FICOFORD  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"TeX": {"equationNumbers": {"autoNumber": "AMS", "useLabelIds": true}}, "tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Loan Pricing" href="pricing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> FICOFORD
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="fico.html">FICOs for Dumm … I mean, Engineers</a></li>
</ul>
<p class="caption"><span class="caption-text">LOSS MODEL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="loss.html">Predicting Losses</a></li>
<li class="toctree-l1"><a class="reference internal" href="loss.html#Loss-Distribution">Loss Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="loss.html#Probability-of-Default">Probability of Default</a></li>
<li class="toctree-l1"><a class="reference internal" href="loss.html#Loss-Given-Default">Loss Given Default</a></li>
<li class="toctree-l1"><a class="reference internal" href="loss.html#Loss-Models">Loss Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="loss.html#Simulating-Losses">Simulating Losses</a></li>
</ul>
<p class="caption"><span class="caption-text">COMPONENTS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="lgd.html">LGD</a></li>
<li class="toctree-l1"><a class="reference internal" href="pricing.html">Loan Pricing</a></li>
</ul>
<p class="caption"><span class="caption-text">PROJECTIONS</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Standard Loans</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Inputs">Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Assumptions">Assumptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Process">Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Building-the-Code">Building the Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Financials">Financials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Investment-Evaluation">Investment Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#3rd-Party-Borrowing">3rd Party Borrowing</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FICOFORD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Standard Loans</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/standard.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Standard-Loans">
<h1>Standard Loans<a class="headerlink" href="#Standard-Loans" title="Permalink to this headline">¶</a></h1>
<hr class="header-line"/><p>We are going to use the <a class="reference internal" href="loss.html#Loss-Models"><span class="std std-ref">Loss Model and simulation tools</span></a> we have developed to generate a projection for Opco and Fico performance.</p>
<p class="p-break"></p><p>We can then use the projection to evaluate:</p>
<ol class="arabic simple">
<li><p>investment required</p></li>
<li><p>attractiveness of the investment</p></li>
</ol>
<p class="p-break"></p><div class="section" id="Inputs">
<h2>Inputs<a class="headerlink" href="#Inputs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>15 years, tracked quarterly</p></li>
<li><p><strong>Loan Growth</strong>: target of <code class="docutils literal notranslate"><span class="pre">$</span></code>4MM of new originations <em>per quarter</em> by Year 15</p></li>
<li><p><strong>Loan Size</strong>: average loan size of <code class="docutils literal notranslate"><span class="pre">$</span></code>100K growing to <code class="docutils literal notranslate"><span class="pre">$</span></code>300K by Year 15</p></li>
<li><p><strong>Credit Quality</strong>: average BB+/BB rating</p></li>
<li><p><strong>LGD</strong>: calculated using <a class="reference internal" href="lgd.html"><span class="doc">Fair Market Value (FMV)</span></a> approach. 10% liquidation costs assumed.</p></li>
<li><p><strong>Pricing</strong>: <a class="reference internal" href="pricing.html#Market-Driven"><span class="std std-ref">market-driven pricing</span></a> utilized. Current public debt rates available from <a class="reference external" href="https://fred.stlouisfed.org/categories/32348">St. Louis Federal Reserve</a>. Missing ratings is interpolated.</p>
<ul>
<li><p>Additional markups (total eyeball):</p>
<ul>
<li><p>Liquidity Premium: 1%</p></li>
<li><p>Credit Risk Premium: 0.5%</p></li>
<li><p>Profit: 1%</p></li>
</ul>
</li>
<li><p>Minimum Rate: 4.5%</p></li>
</ul>
</li>
<li><p><strong>Cost of Debt to Opco</strong>: LIBOR + 1.4%</p></li>
</ul>
<p class="p-break"></p></div>
<div class="section" id="Assumptions">
<h2>Assumptions<a class="headerlink" href="#Assumptions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>All loans amortized over 5 years</p></li>
<li><p>PDs do not change over time</p></li>
<li><p>PDs are correlated</p></li>
<li><p>FMV depreciation curve is the same for each loan</p></li>
<li><p>FMV depreciation estimated using tried-on-true “eyeball” approach</p></li>
<li><p>PDs and LGDs are <em>not</em> correlated</p></li>
</ul>
<p class="p-break"></p></div>
<div class="section" id="Process">
<h2>Process<a class="headerlink" href="#Process" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>generate new loan originations</p></li>
<li><p>generate borrower credit ratings and assign PDs</p></li>
<li><p>generate default correlation matrix</p></li>
<li><p>generate pricing targets at each credit rating</p></li>
<li><p>generate FMV depreciation curve</p></li>
<li><p>assign FMV to each loan <em>for each quarter in the projection</em></p>
<ul class="simple">
<li><p>FMV is further augmented as normally-distributed around expected FMV</p></li>
</ul>
</li>
<li><p>For each Year in the projection</p>
<ul class="simple">
<li><p>build loss model based on new and existing loans (carried forward from prior quarter)</p></li>
<li><p>generate 15,000 simulations for <em>each quarter</em> and build loss distribution</p></li>
<li><p>assign pricing based on credit quality</p></li>
<li><p>assign economic capital required</p></li>
<li><p>assign payment and amortization schedules for new loans</p></li>
</ul>
</li>
<li><p>Build financial statements from the quarterly proe</p></li>
</ol>
<p class="p-break"></p></div>
<div class="section" id="Building-the-Code">
<h2>Building the Code<a class="headerlink" href="#Building-the-Code" title="Permalink to this headline">¶</a></h2>
<p>Here we build out the loan code.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Build Inputs</span>
<span class="n">years</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">periods</span> <span class="o">=</span> <span class="n">years</span> <span class="o">*</span> <span class="mi">4</span>
<span class="n">n_amort</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">4</span>
<span class="n">loan_tgt</span> <span class="o">=</span> <span class="mi">1000000</span>

<span class="n">dist</span> <span class="o">=</span> <span class="n">expon</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">periods</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">periods</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="n">periods</span>
<span class="n">originations</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">dist</span> <span class="o">+</span> <span class="n">dist</span><span class="o">.</span><span class="n">max</span><span class="p">())</span> <span class="o">*</span> <span class="n">loan_tgt</span>

<span class="n">start_avg</span> <span class="o">=</span> <span class="mi">100000</span>
<span class="n">end_avg</span> <span class="o">=</span> <span class="mi">300000</span>
<span class="n">step</span> <span class="o">=</span> <span class="p">(</span><span class="n">end_avg</span> <span class="o">-</span> <span class="n">start_avg</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">periods</span><span class="p">)</span>
<span class="n">AVG_LOAN_SIZE</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start_avg</span><span class="p">,</span> <span class="n">end_avg</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span>

<span class="n">n_loans</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">originations</span> <span class="o">/</span> <span class="n">AVG_LOAN_SIZE</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span>

<span class="c1"># Generate New Loans</span>
<span class="n">loans</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_loans</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">rl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n_loans</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">loans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">originations</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">rl</span> <span class="o">/</span> <span class="n">rl</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="n">df_loans</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">loans</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">fillsize</span> <span class="o">=</span> <span class="n">n_loans</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">-</span> <span class="n">df_loans</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">filler</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">fillsize</span><span class="p">,</span> <span class="n">periods</span><span class="p">))</span>
<span class="n">filler</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df_loans</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_loans</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">filler</span><span class="p">)])</span>

<span class="n">df_loans</span> <span class="o">=</span> <span class="n">df_loans</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">vintshift</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">filler</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_amort</span><span class="p">,</span> <span class="n">n_loans</span><span class="o">.</span><span class="n">sum</span><span class="p">()))</span>
<span class="n">filler</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df_loans</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_loans</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">filler</span><span class="p">)])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">loan_nums</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argwhere</span><span class="p">(</span><span class="n">df_loans</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The code above results in the following loan growth forecasted:</p>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/standard_5_0.png" src="_images/standard_5_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Generate Credit Ratings</span>
<span class="n">mu</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">std</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">n</span><span class="p">,</span> <span class="n">p</span> <span class="o">=</span> <span class="n">norm_to_binom</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">std</span><span class="p">)</span>
<span class="n">pd_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">SPs</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">,</span> <span class="n">n_loans</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<p>Below we show the distribution of credit ratings in the loan portfolio.</p>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/standard_8_0.png" src="_images/standard_8_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Assign PDs to loans based on Credit Ratings</span>
<span class="n">p_of_ds</span> <span class="o">=</span> <span class="n">nan_like</span><span class="p">(</span><span class="n">df_loans</span><span class="p">)</span>
<span class="n">pd_vars</span> <span class="o">=</span> <span class="n">nan_like</span><span class="p">(</span><span class="n">df_loans</span><span class="p">)</span>

<span class="n">p_of_d</span> <span class="o">=</span> <span class="n">PDs</span><span class="p">[</span><span class="n">pd_idx</span><span class="p">]</span>
<span class="n">pd_var</span> <span class="o">=</span> <span class="n">bern</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">p_of_d</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">p_of_d</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">loan_nums</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p_of_d</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">loan_nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">p_of_ds</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_of_d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">pd_vars</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd_var</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="n">p_of_ds</span> <span class="o">=</span> <span class="n">p_of_ds</span><span class="o">.</span><span class="n">ffill</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pd_vars</span> <span class="o">=</span> <span class="n">pd_vars</span><span class="o">.</span><span class="n">ffill</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Correlation Matrix of Defaults at each Vintage</span>
<span class="n">corrmats</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_loans</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="n">df_todate</span> <span class="o">=</span> <span class="n">df_loans</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="n">v</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">n</span> <span class="o">=</span> <span class="n">df_todate</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span> <span class="o">.</span><span class="mi">6</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
        <span class="n">corrmat</span> <span class="o">=</span> <span class="n">corrs_to_corrmat</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
        <span class="n">corrmat</span> <span class="o">=</span> <span class="n">fix_corrmat</span><span class="p">(</span><span class="n">corrmat</span><span class="p">)</span>
        <span class="n">corrmats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">corrmat</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">corrmats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([]))</span>

<span class="c1"># Pricing</span>
<span class="n">yields</span> <span class="o">=</span> <span class="n">get_yields</span><span class="p">()</span>
<span class="n">y_</span> <span class="o">=</span> <span class="n">yields</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">zeros</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">yields</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">zeros</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">y_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">y_</span><span class="p">,</span> <span class="n">zeros</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">yields</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">y_</span><span class="p">)</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;slinear&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">yields</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">yields</span><span class="p">)</span>

<span class="n">lqd_mu</span> <span class="o">=</span> <span class="o">.</span><span class="mi">01</span>
<span class="n">cred_mu</span> <span class="o">=</span> <span class="o">.</span><span class="mi">005</span>
<span class="n">prof_mu</span> <span class="o">=</span> <span class="o">.</span><span class="mi">01</span>

<span class="n">rates</span> <span class="o">=</span> <span class="n">yields</span> <span class="o">+</span> <span class="n">lqd_mu</span> <span class="o">+</span> <span class="n">cred_mu</span> <span class="o">+</span> <span class="n">prof_mu</span>
<span class="n">min_rate</span> <span class="o">=</span> <span class="o">.</span><span class="mi">045</span>
</pre></div>
</div>
</div>
<p>Below we show the target interest rate pricing for each possible credit rating:</p>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/standard_11_0.png" src="_images/standard_11_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Generate FMV depreciation curve</span>
<span class="n">n_amort</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">n_amort</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="n">mv_curve</span> <span class="o">=</span> <span class="n">line_by_line</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>And below we see the assumed market value depreciation of the equipment being financed.</p>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/standard_14_0.png" src="_images/standard_14_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Generate FMV for each loan over the entire projection</span>
<span class="n">std</span> <span class="o">=</span> <span class="mi">5000</span>
<span class="n">lqd_exp</span> <span class="o">=</span> <span class="o">.</span><span class="mi">1</span>
<span class="n">fmv</span> <span class="o">=</span> <span class="n">nan_like</span><span class="p">(</span><span class="n">df_loans</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="n">loan_nums</span><span class="p">:</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">fmv</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="n">mv_curve</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">fmv</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="n">y</span><span class="o">+</span><span class="n">dist</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_loans</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span><span class="o">*</span><span class="n">mv_curve</span><span class="p">[:</span><span class="n">dist</span><span class="p">]</span>

<span class="n">fmv</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:]</span> <span class="o">=</span> <span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">fmv</span><span class="p">,</span> <span class="n">std</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">lqd_exp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Generate Projection</span>
<span class="n">interest</span> <span class="o">=</span> <span class="n">nan_like</span><span class="p">(</span><span class="n">df_loans</span><span class="p">)</span>
<span class="n">int_rates</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">econ_caps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">df_loans</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">charge_offs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">df_loans</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="n">n_amort</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="mi">4</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">15000</span>
<span class="n">ba</span> <span class="o">=</span> <span class="o">.</span><span class="mi">0042</span>
<span class="n">spread</span> <span class="o">=</span> <span class="o">.</span><span class="mi">01</span>
<span class="n">debt_rate</span> <span class="o">=</span> <span class="n">ba</span> <span class="o">+</span> <span class="n">spread</span>

<span class="k">with</span> <span class="n">warnings</span><span class="o">.</span><span class="n">catch_warnings</span><span class="p">():</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">vintage</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df_loans</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
        <span class="nb">print</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Vintage: </span><span class="si">{</span><span class="n">vintage</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">vintage</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">df_loans</span><span class="p">,</span> <span class="n">interest</span><span class="p">,</span> <span class="n">econ_caps</span><span class="p">,</span> <span class="n">charge_offs</span><span class="p">,</span> <span class="n">int_rates</span> <span class="o">=</span> <span class="n">booksim</span><span class="p">(</span><span class="n">vintage</span><span class="p">,</span> <span class="n">df_loans</span><span class="p">,</span> <span class="n">p_of_ds</span><span class="p">,</span> <span class="n">pd_idx</span><span class="p">,</span> <span class="n">corrmats</span><span class="p">,</span> <span class="n">fmv</span><span class="p">,</span> <span class="n">interest</span><span class="p">,</span> <span class="n">loan_nums</span><span class="p">,</span> <span class="n">econ_caps</span><span class="p">,</span> <span class="n">charge_offs</span><span class="p">,</span> <span class="n">rates</span><span class="p">,</span> <span class="n">int_rates</span><span class="p">,</span> <span class="n">min_rate</span><span class="o">=</span><span class="n">min_rate</span><span class="p">,</span> <span class="n">cost_of_debt</span><span class="o">=</span><span class="n">debt_rate</span><span class="p">,</span> <span class="n">n_samples</span><span class="o">=</span><span class="mi">15000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Vintage: 79
</pre></div></div>
</div>
</div>
<div class="section" id="Financials">
<h2>Financials<a class="headerlink" href="#Financials" title="Permalink to this headline">¶</a></h2>
<p>We can now build financial statements from the simulated data.</p>
<p class="p-break"></p><p>The key consideration for assessing the project is including new sales by Opco (financed by Fico) in the cash flow assumption.</p>
<p class="p-break"></p><p>Key Assumptions: + Opco provides ALL capital support to Fico + Opco invests <em>both</em> debt <em>and</em> equity into Fico + Opco invests equity equal to economic capital required. + Remainder of Fico capital is injected as shareholder debt, charged at Opco’s cost of debt. + In exchange for low interest rate on debt, 100% of Fico loans are sales by Opco. + New sales earn 15% gross margin + Assume $150K in general expenses for Opco/Fico (paid for by Opco) growing at 7% per year</p>
<p class="p-break"></p><p><strong>Process for Fico</strong></p>
<ol class="arabic simple">
<li><p>create quarterly income statement and balance sheet</p>
<ul class="simple">
<li><p>revenue found via interest on loans</p></li>
<li><p>charge-Offs found as Expected Losses from loss distribution generated from simulations in each quarter</p></li>
<li><p>pulled from projection:</p>
<ul>
<li><p>Loans: Total advances less repayments and charge-offs</p></li>
<li><p>Req Equity: economic capital required as per Loss distribution in each quarter</p></li>
</ul>
</li>
<li><p>implied:</p>
<ul>
<li><p>Debt: difference between Loans and Req Equity.</p></li>
<li><p>Cash: cumulative profits generated (offset of Retained Earnings)</p></li>
<li><p>Net Debt: Debt less Cash (assumes Debt is reduced by whatever cash is avaialble)</p></li>
</ul>
</li>
</ul>
</li>
<li><p>adjust for interest expense shield from profits</p></li>
<li><p>consolidate to annual statements</p></li>
<li><p>create table of key ratios</p></li>
</ol>
<p class="p-break"></p><p><strong>Process for Opco</strong></p>
<ol class="arabic simple">
<li><p>Generate Income Statement assuming 100% of new loan originations booked as revenue</p></li>
<li><p>Interest Expense earned is assumed to be offset by interest paid to Opco lender</p></li>
</ol>
<p class="p-break"></p><p><strong>Handling Circular Debt/Income Relationship</strong></p>
<ul class="simple">
<li><p>debt creates interest expense which lowers profitability which leads to higher debt</p></li>
<li><p>so there is an optimal level of debt that must be determined</p></li>
<li><p>the asset side of our balance sheet is fixed, i.e. the amount of loans is already known, we can find the debt level with some simple math. in our approach, we find the cash level, which is a function of the income, which then provides the debt level.</p></li>
</ul>
<p>$ Income_i = Revenue_i - ChargeOffs_i - (Debt_i - Cash_i)<em>Cost of Debt_i / 4 \Loans_i = Debt_i + E_i = (Debt_i - Cash_i) + Required Equity_i + Retained Earnings_{i-1} + Income_i \Cash_i = Loans_i - Required Equity_i - Retained Earnings_{i-1} - Revenue + ChargeOffs + Debt</em>(Cost of Debt/4 - 1) / (Cost of Debt/4 - 1) $</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create IS and BS</span>
<span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Loans&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Cash&#39;</span><span class="p">,</span> <span class="s1">&#39;Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Net Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Req Equity&#39;</span><span class="p">,</span> <span class="s1">&#39;Retained Earnings&#39;</span><span class="p">,</span> <span class="s1">&#39;Equity&#39;</span><span class="p">,</span> <span class="s1">&#39;D+E&#39;</span><span class="p">]</span>
<span class="n">assets</span> <span class="o">=</span> <span class="n">df_loans</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">debt</span> <span class="o">=</span> <span class="n">assets</span> <span class="o">-</span> <span class="n">econ_caps</span>
<span class="n">cash</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">debt</span><span class="p">)</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">debt</span><span class="p">)</span>
<span class="n">re</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">debt</span><span class="p">)</span>
<span class="n">eq</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">debt</span><span class="p">)</span>
<span class="n">de</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">debt</span><span class="p">)</span>
<span class="n">BS</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">assets</span><span class="p">,</span> <span class="n">assets</span><span class="p">,</span> <span class="n">cash</span><span class="p">,</span> <span class="n">debt</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">econ_caps</span><span class="p">,</span> <span class="n">re</span><span class="p">,</span> <span class="n">eq</span><span class="p">,</span> <span class="n">de</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="n">periods</span><span class="p">]</span>

<span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Revenue&#39;</span><span class="p">,</span> <span class="s1">&#39;Charge Offs&#39;</span><span class="p">,</span> <span class="s1">&#39;Interest Exp&#39;</span><span class="p">,</span> <span class="s1">&#39;Profit&#39;</span><span class="p">]</span>
<span class="n">cost_of_debt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">debt</span><span class="p">)</span>
<span class="n">prof</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">debt</span><span class="p">)</span>
<span class="n">IS</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">interest</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">charge_offs</span><span class="p">,</span> <span class="n">cost_of_debt</span><span class="p">,</span> <span class="n">prof</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="n">periods</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Adjust Interest Expense and Debt for profits</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">BS</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">BS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Retained Earnings&#39;</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Loans&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Revenue&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> \
        <span class="o">-</span> <span class="n">re</span> <span class="o">+</span> <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Charge Offs&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Debt&#39;</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">debt_rate</span><span class="o">/</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">denom</span> <span class="o">=</span> <span class="p">(</span><span class="n">debt_rate</span><span class="o">/</span><span class="mi">4</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Cash&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">num</span><span class="o">/</span><span class="n">denom</span>
    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Debt&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Cash&#39;</span><span class="p">]</span>

    <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Interest Exp&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">debt_rate</span><span class="o">/</span><span class="mi">4</span>
    <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Revenue&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Charge Offs&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> \
        <span class="o">-</span> <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Interest Exp&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span>

    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Retained Earnings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span> <span class="o">+</span> <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span>
    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Retained Earnings&#39;</span><span class="p">]</span>  <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span>

<span class="n">BS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;D+E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">BS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span>
<span class="n">BS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;bal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;D+E&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">BS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Assets&#39;</span><span class="p">]</span>

<span class="c1"># Aggregate to Annual</span>
<span class="n">IS_annual</span> <span class="o">=</span> <span class="n">IS</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">IS</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">index</span><span class="o">//</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="n">IS_annual</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">IS_annual</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">BS_annual</span> <span class="o">=</span> <span class="n">BS</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">BS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">4</span><span class="p">)]</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="n">BS_annual</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create Table of Key Ratios</span>
<span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Cap Ratio&#39;</span><span class="p">,</span> <span class="s1">&#39;ROE&#39;</span><span class="p">,</span> <span class="s1">&#39;Charge-Off Rate&#39;</span><span class="p">]</span>
<span class="n">caprat</span> <span class="o">=</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Loans&#39;</span><span class="p">]</span>
<span class="n">roe</span> <span class="o">=</span> <span class="n">IS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span>
<span class="n">cumroe</span> <span class="o">=</span> <span class="n">IS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span> <span class="o">/</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">co_annual</span> <span class="o">=</span> <span class="n">charge_offs</span><span class="p">[:</span><span class="n">periods</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">periods</span><span class="o">//</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">co_rate</span> <span class="o">=</span> <span class="n">co_annual</span> <span class="o">/</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Loans&#39;</span><span class="p">]</span>
<span class="n">rats</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">caprat</span><span class="p">,</span> <span class="n">roe</span><span class="p">,</span> <span class="n">co_rate</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We can see the results below. First, with the Income Statement:</p>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_41720_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_41720_level0_row0" class="row_heading level0 row0" >Revenue</th>
                        <td id="T_41720_row0_col0" class="data row0 col0" >8,904</td>
                        <td id="T_41720_row0_col1" class="data row0 col1" >99,345</td>
                        <td id="T_41720_row0_col2" class="data row0 col2" >257,804</td>
                        <td id="T_41720_row0_col3" class="data row0 col3" >467,596</td>
                        <td id="T_41720_row0_col4" class="data row0 col4" >694,241</td>
                        <td id="T_41720_row0_col5" class="data row0 col5" >890,362</td>
                        <td id="T_41720_row0_col6" class="data row0 col6" >1,048,601</td>
                        <td id="T_41720_row0_col7" class="data row0 col7" >1,201,555</td>
                        <td id="T_41720_row0_col8" class="data row0 col8" >1,306,896</td>
                        <td id="T_41720_row0_col9" class="data row0 col9" >1,407,520</td>
                        <td id="T_41720_row0_col10" class="data row0 col10" >1,480,673</td>
                        <td id="T_41720_row0_col11" class="data row0 col11" >1,562,214</td>
                        <td id="T_41720_row0_col12" class="data row0 col12" >1,620,870</td>
                        <td id="T_41720_row0_col13" class="data row0 col13" >1,650,765</td>
                        <td id="T_41720_row0_col14" class="data row0 col14" >1,675,660</td>
            </tr>
            <tr>
                        <th id="T_41720_level0_row1" class="row_heading level0 row1" >Charge Offs</th>
                        <td id="T_41720_row1_col0" class="data row1 col0" >14,797</td>
                        <td id="T_41720_row1_col1" class="data row1 col1" >43,931</td>
                        <td id="T_41720_row1_col2" class="data row1 col2" >57,471</td>
                        <td id="T_41720_row1_col3" class="data row1 col3" >71,555</td>
                        <td id="T_41720_row1_col4" class="data row1 col4" >61,182</td>
                        <td id="T_41720_row1_col5" class="data row1 col5" >57,483</td>
                        <td id="T_41720_row1_col6" class="data row1 col6" >68,947</td>
                        <td id="T_41720_row1_col7" class="data row1 col7" >86,936</td>
                        <td id="T_41720_row1_col8" class="data row1 col8" >64,089</td>
                        <td id="T_41720_row1_col9" class="data row1 col9" >123,321</td>
                        <td id="T_41720_row1_col10" class="data row1 col10" >128,862</td>
                        <td id="T_41720_row1_col11" class="data row1 col11" >143,344</td>
                        <td id="T_41720_row1_col12" class="data row1 col12" >128,960</td>
                        <td id="T_41720_row1_col13" class="data row1 col13" >159,551</td>
                        <td id="T_41720_row1_col14" class="data row1 col14" >166,286</td>
            </tr>
            <tr>
                        <th id="T_41720_level0_row2" class="row_heading level0 row2" >Interest Exp</th>
                        <td id="T_41720_row2_col0" class="data row2 col0" >4,516</td>
                        <td id="T_41720_row2_col1" class="data row2 col1" >30,730</td>
                        <td id="T_41720_row2_col2" class="data row2 col2" >73,431</td>
                        <td id="T_41720_row2_col3" class="data row2 col3" >122,638</td>
                        <td id="T_41720_row2_col4" class="data row2 col4" >171,746</td>
                        <td id="T_41720_row2_col5" class="data row2 col5" >214,335</td>
                        <td id="T_41720_row2_col6" class="data row2 col6" >243,496</td>
                        <td id="T_41720_row2_col7" class="data row2 col7" >263,039</td>
                        <td id="T_41720_row2_col8" class="data row2 col8" >280,329</td>
                        <td id="T_41720_row2_col9" class="data row2 col9" >282,564</td>
                        <td id="T_41720_row2_col10" class="data row2 col10" >285,441</td>
                        <td id="T_41720_row2_col11" class="data row2 col11" >282,021</td>
                        <td id="T_41720_row2_col12" class="data row2 col12" >279,965</td>
                        <td id="T_41720_row2_col13" class="data row2 col13" >267,796</td>
                        <td id="T_41720_row2_col14" class="data row2 col14" >257,848</td>
            </tr>
            <tr>
                        <th id="T_41720_level0_row3" class="row_heading level0 row3" >Profit</th>
                        <td id="T_41720_row3_col0" class="data row3 col0" >-10,408</td>
                        <td id="T_41720_row3_col1" class="data row3 col1" >24,684</td>
                        <td id="T_41720_row3_col2" class="data row3 col2" >126,901</td>
                        <td id="T_41720_row3_col3" class="data row3 col3" >273,404</td>
                        <td id="T_41720_row3_col4" class="data row3 col4" >461,313</td>
                        <td id="T_41720_row3_col5" class="data row3 col5" >618,544</td>
                        <td id="T_41720_row3_col6" class="data row3 col6" >736,158</td>
                        <td id="T_41720_row3_col7" class="data row3 col7" >851,581</td>
                        <td id="T_41720_row3_col8" class="data row3 col8" >962,478</td>
                        <td id="T_41720_row3_col9" class="data row3 col9" >1,001,636</td>
                        <td id="T_41720_row3_col10" class="data row3 col10" >1,066,371</td>
                        <td id="T_41720_row3_col11" class="data row3 col11" >1,136,849</td>
                        <td id="T_41720_row3_col12" class="data row3 col12" >1,211,945</td>
                        <td id="T_41720_row3_col13" class="data row3 col13" >1,223,417</td>
                        <td id="T_41720_row3_col14" class="data row3 col14" >1,251,526</td>
            </tr>
    </tbody></table></div>
</div>
<p>Then, the Balance Sheet:</p>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_231da_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_231da_level0_row0" class="row_heading level0 row0" >Loans</th>
                        <td id="T_231da_row0_col0" class="data row0 col0" >824,712</td>
                        <td id="T_231da_row0_col1" class="data row0 col1" >3,380,021</td>
                        <td id="T_231da_row0_col2" class="data row0 col2" >6,941,695</td>
                        <td id="T_231da_row0_col3" class="data row0 col3" >10,902,509</td>
                        <td id="T_231da_row0_col4" class="data row0 col4" >14,739,707</td>
                        <td id="T_231da_row0_col5" class="data row0 col5" >18,025,552</td>
                        <td id="T_231da_row0_col6" class="data row0 col6" >20,714,168</td>
                        <td id="T_231da_row0_col7" class="data row0 col7" >22,918,076</td>
                        <td id="T_231da_row0_col8" class="data row0 col8" >24,719,051</td>
                        <td id="T_231da_row0_col9" class="data row0 col9" >26,201,402</td>
                        <td id="T_231da_row0_col10" class="data row0 col10" >27,413,005</td>
                        <td id="T_231da_row0_col11" class="data row0 col11" >28,405,990</td>
                        <td id="T_231da_row0_col12" class="data row0 col12" >29,227,163</td>
                        <td id="T_231da_row0_col13" class="data row0 col13" >29,889,483</td>
                        <td id="T_231da_row0_col14" class="data row0 col14" >30,428,394</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row1" class="row_heading level0 row1" >Assets</th>
                        <td id="T_231da_row1_col0" class="data row1 col0" >824,712</td>
                        <td id="T_231da_row1_col1" class="data row1 col1" >3,380,021</td>
                        <td id="T_231da_row1_col2" class="data row1 col2" >6,941,695</td>
                        <td id="T_231da_row1_col3" class="data row1 col3" >10,902,509</td>
                        <td id="T_231da_row1_col4" class="data row1 col4" >14,739,707</td>
                        <td id="T_231da_row1_col5" class="data row1 col5" >18,025,552</td>
                        <td id="T_231da_row1_col6" class="data row1 col6" >20,714,168</td>
                        <td id="T_231da_row1_col7" class="data row1 col7" >22,918,076</td>
                        <td id="T_231da_row1_col8" class="data row1 col8" >24,719,051</td>
                        <td id="T_231da_row1_col9" class="data row1 col9" >26,201,402</td>
                        <td id="T_231da_row1_col10" class="data row1 col10" >27,413,005</td>
                        <td id="T_231da_row1_col11" class="data row1 col11" >28,405,990</td>
                        <td id="T_231da_row1_col12" class="data row1 col12" >29,227,163</td>
                        <td id="T_231da_row1_col13" class="data row1 col13" >29,889,483</td>
                        <td id="T_231da_row1_col14" class="data row1 col14" >30,428,394</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row2" class="row_heading level0 row2" >Cash</th>
                        <td id="T_231da_row2_col0" class="data row2 col0" >10,408</td>
                        <td id="T_231da_row2_col1" class="data row2 col1" >-14,276</td>
                        <td id="T_231da_row2_col2" class="data row2 col2" >-141,177</td>
                        <td id="T_231da_row2_col3" class="data row2 col3" >-414,581</td>
                        <td id="T_231da_row2_col4" class="data row2 col4" >-875,894</td>
                        <td id="T_231da_row2_col5" class="data row2 col5" >-1,494,438</td>
                        <td id="T_231da_row2_col6" class="data row2 col6" >-2,230,596</td>
                        <td id="T_231da_row2_col7" class="data row2 col7" >-3,082,177</td>
                        <td id="T_231da_row2_col8" class="data row2 col8" >-4,044,655</td>
                        <td id="T_231da_row2_col9" class="data row2 col9" >-5,046,291</td>
                        <td id="T_231da_row2_col10" class="data row2 col10" >-6,112,662</td>
                        <td id="T_231da_row2_col11" class="data row2 col11" >-7,249,511</td>
                        <td id="T_231da_row2_col12" class="data row2 col12" >-8,461,456</td>
                        <td id="T_231da_row2_col13" class="data row2 col13" >-9,684,873</td>
                        <td id="T_231da_row2_col14" class="data row2 col14" >-10,936,400</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row3" class="row_heading level0 row3" >Debt</th>
                        <td id="T_231da_row3_col0" class="data row3 col0" >732,496</td>
                        <td id="T_231da_row3_col1" class="data row3 col1" >3,203,356</td>
                        <td id="T_231da_row3_col2" class="data row3 col2" >6,650,776</td>
                        <td id="T_231da_row3_col3" class="data row3 col3" >10,401,511</td>
                        <td id="T_231da_row3_col4" class="data row3 col4" >14,210,815</td>
                        <td id="T_231da_row3_col5" class="data row3 col5" >17,636,266</td>
                        <td id="T_231da_row3_col6" class="data row3 col6" >19,933,423</td>
                        <td id="T_231da_row3_col7" class="data row3 col7" >21,875,030</td>
                        <td id="T_231da_row3_col8" class="data row3 col8" >24,031,296</td>
                        <td id="T_231da_row3_col9" class="data row3 col9" >25,196,249</td>
                        <td id="T_231da_row3_col10" class="data row3 col10" >26,138,831</td>
                        <td id="T_231da_row3_col11" class="data row3 col11" >27,471,808</td>
                        <td id="T_231da_row3_col12" class="data row3 col12" >28,326,894</td>
                        <td id="T_231da_row3_col13" class="data row3 col13" >28,514,828</td>
                        <td id="T_231da_row3_col14" class="data row3 col14" >28,545,384</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row4" class="row_heading level0 row4" >Net Debt</th>
                        <td id="T_231da_row4_col0" class="data row4 col0" >742,904</td>
                        <td id="T_231da_row4_col1" class="data row4 col1" >3,189,080</td>
                        <td id="T_231da_row4_col2" class="data row4 col2" >6,509,598</td>
                        <td id="T_231da_row4_col3" class="data row4 col3" >9,986,930</td>
                        <td id="T_231da_row4_col4" class="data row4 col4" >13,334,921</td>
                        <td id="T_231da_row4_col5" class="data row4 col5" >16,141,828</td>
                        <td id="T_231da_row4_col6" class="data row4 col6" >17,702,827</td>
                        <td id="T_231da_row4_col7" class="data row4 col7" >18,792,853</td>
                        <td id="T_231da_row4_col8" class="data row4 col8" >19,986,641</td>
                        <td id="T_231da_row4_col9" class="data row4 col9" >20,149,958</td>
                        <td id="T_231da_row4_col10" class="data row4 col10" >20,026,169</td>
                        <td id="T_231da_row4_col11" class="data row4 col11" >20,222,297</td>
                        <td id="T_231da_row4_col12" class="data row4 col12" >19,865,438</td>
                        <td id="T_231da_row4_col13" class="data row4 col13" >18,829,955</td>
                        <td id="T_231da_row4_col14" class="data row4 col14" >17,608,984</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row5" class="row_heading level0 row5" >Req Equity</th>
                        <td id="T_231da_row5_col0" class="data row5 col0" >92,216</td>
                        <td id="T_231da_row5_col1" class="data row5 col1" >176,665</td>
                        <td id="T_231da_row5_col2" class="data row5 col2" >290,919</td>
                        <td id="T_231da_row5_col3" class="data row5 col3" >500,998</td>
                        <td id="T_231da_row5_col4" class="data row5 col4" >528,892</td>
                        <td id="T_231da_row5_col5" class="data row5 col5" >389,286</td>
                        <td id="T_231da_row5_col6" class="data row5 col6" >780,745</td>
                        <td id="T_231da_row5_col7" class="data row5 col7" >1,043,046</td>
                        <td id="T_231da_row5_col8" class="data row5 col8" >687,754</td>
                        <td id="T_231da_row5_col9" class="data row5 col9" >1,005,153</td>
                        <td id="T_231da_row5_col10" class="data row5 col10" >1,274,174</td>
                        <td id="T_231da_row5_col11" class="data row5 col11" >934,182</td>
                        <td id="T_231da_row5_col12" class="data row5 col12" >900,269</td>
                        <td id="T_231da_row5_col13" class="data row5 col13" >1,374,655</td>
                        <td id="T_231da_row5_col14" class="data row5 col14" >1,883,010</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row6" class="row_heading level0 row6" >Retained Earnings</th>
                        <td id="T_231da_row6_col0" class="data row6 col0" >-10,408</td>
                        <td id="T_231da_row6_col1" class="data row6 col1" >14,276</td>
                        <td id="T_231da_row6_col2" class="data row6 col2" >141,177</td>
                        <td id="T_231da_row6_col3" class="data row6 col3" >414,581</td>
                        <td id="T_231da_row6_col4" class="data row6 col4" >875,894</td>
                        <td id="T_231da_row6_col5" class="data row6 col5" >1,494,438</td>
                        <td id="T_231da_row6_col6" class="data row6 col6" >2,230,596</td>
                        <td id="T_231da_row6_col7" class="data row6 col7" >3,082,177</td>
                        <td id="T_231da_row6_col8" class="data row6 col8" >4,044,655</td>
                        <td id="T_231da_row6_col9" class="data row6 col9" >5,046,291</td>
                        <td id="T_231da_row6_col10" class="data row6 col10" >6,112,662</td>
                        <td id="T_231da_row6_col11" class="data row6 col11" >7,249,511</td>
                        <td id="T_231da_row6_col12" class="data row6 col12" >8,461,456</td>
                        <td id="T_231da_row6_col13" class="data row6 col13" >9,684,873</td>
                        <td id="T_231da_row6_col14" class="data row6 col14" >10,936,400</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row7" class="row_heading level0 row7" >Equity</th>
                        <td id="T_231da_row7_col0" class="data row7 col0" >81,808</td>
                        <td id="T_231da_row7_col1" class="data row7 col1" >190,941</td>
                        <td id="T_231da_row7_col2" class="data row7 col2" >432,097</td>
                        <td id="T_231da_row7_col3" class="data row7 col3" >915,579</td>
                        <td id="T_231da_row7_col4" class="data row7 col4" >1,404,786</td>
                        <td id="T_231da_row7_col5" class="data row7 col5" >1,883,724</td>
                        <td id="T_231da_row7_col6" class="data row7 col6" >3,011,341</td>
                        <td id="T_231da_row7_col7" class="data row7 col7" >4,125,223</td>
                        <td id="T_231da_row7_col8" class="data row7 col8" >4,732,410</td>
                        <td id="T_231da_row7_col9" class="data row7 col9" >6,051,444</td>
                        <td id="T_231da_row7_col10" class="data row7 col10" >7,386,836</td>
                        <td id="T_231da_row7_col11" class="data row7 col11" >8,183,693</td>
                        <td id="T_231da_row7_col12" class="data row7 col12" >9,361,725</td>
                        <td id="T_231da_row7_col13" class="data row7 col13" >11,059,528</td>
                        <td id="T_231da_row7_col14" class="data row7 col14" >12,819,410</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row8" class="row_heading level0 row8" >D+E</th>
                        <td id="T_231da_row8_col0" class="data row8 col0" >824,712</td>
                        <td id="T_231da_row8_col1" class="data row8 col1" >3,380,021</td>
                        <td id="T_231da_row8_col2" class="data row8 col2" >6,941,695</td>
                        <td id="T_231da_row8_col3" class="data row8 col3" >10,902,509</td>
                        <td id="T_231da_row8_col4" class="data row8 col4" >14,739,707</td>
                        <td id="T_231da_row8_col5" class="data row8 col5" >18,025,552</td>
                        <td id="T_231da_row8_col6" class="data row8 col6" >20,714,168</td>
                        <td id="T_231da_row8_col7" class="data row8 col7" >22,918,076</td>
                        <td id="T_231da_row8_col8" class="data row8 col8" >24,719,051</td>
                        <td id="T_231da_row8_col9" class="data row8 col9" >26,201,402</td>
                        <td id="T_231da_row8_col10" class="data row8 col10" >27,413,005</td>
                        <td id="T_231da_row8_col11" class="data row8 col11" >28,405,990</td>
                        <td id="T_231da_row8_col12" class="data row8 col12" >29,227,163</td>
                        <td id="T_231da_row8_col13" class="data row8 col13" >29,889,483</td>
                        <td id="T_231da_row8_col14" class="data row8 col14" >30,428,394</td>
            </tr>
            <tr>
                        <th id="T_231da_level0_row9" class="row_heading level0 row9" >bal</th>
                        <td id="T_231da_row9_col0" class="data row9 col0" >-0</td>
                        <td id="T_231da_row9_col1" class="data row9 col1" >0</td>
                        <td id="T_231da_row9_col2" class="data row9 col2" >-0</td>
                        <td id="T_231da_row9_col3" class="data row9 col3" >0</td>
                        <td id="T_231da_row9_col4" class="data row9 col4" >0</td>
                        <td id="T_231da_row9_col5" class="data row9 col5" >0</td>
                        <td id="T_231da_row9_col6" class="data row9 col6" >-0</td>
                        <td id="T_231da_row9_col7" class="data row9 col7" >0</td>
                        <td id="T_231da_row9_col8" class="data row9 col8" >0</td>
                        <td id="T_231da_row9_col9" class="data row9 col9" >0</td>
                        <td id="T_231da_row9_col10" class="data row9 col10" >0</td>
                        <td id="T_231da_row9_col11" class="data row9 col11" >0</td>
                        <td id="T_231da_row9_col12" class="data row9 col12" >0</td>
                        <td id="T_231da_row9_col13" class="data row9 col13" >0</td>
                        <td id="T_231da_row9_col14" class="data row9 col14" >0</td>
            </tr>
    </tbody></table></div>
</div>
<p>Finally, we summarize some key ratios:</p>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[53]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_321fe_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_321fe_level0_row0" class="row_heading level0 row0" >Cap Ratio</th>
                        <td id="T_321fe_row0_col0" class="data row0 col0" >9.92%</td>
                        <td id="T_321fe_row0_col1" class="data row0 col1" >5.65%</td>
                        <td id="T_321fe_row0_col2" class="data row0 col2" >6.22%</td>
                        <td id="T_321fe_row0_col3" class="data row0 col3" >8.40%</td>
                        <td id="T_321fe_row0_col4" class="data row0 col4" >9.53%</td>
                        <td id="T_321fe_row0_col5" class="data row0 col5" >10.45%</td>
                        <td id="T_321fe_row0_col6" class="data row0 col6" >14.54%</td>
                        <td id="T_321fe_row0_col7" class="data row0 col7" >18.00%</td>
                        <td id="T_321fe_row0_col8" class="data row0 col8" >19.14%</td>
                        <td id="T_321fe_row0_col9" class="data row0 col9" >23.10%</td>
                        <td id="T_321fe_row0_col10" class="data row0 col10" >26.95%</td>
                        <td id="T_321fe_row0_col11" class="data row0 col11" >28.81%</td>
                        <td id="T_321fe_row0_col12" class="data row0 col12" >32.03%</td>
                        <td id="T_321fe_row0_col13" class="data row0 col13" >37.00%</td>
                        <td id="T_321fe_row0_col14" class="data row0 col14" >42.13%</td>
            </tr>
            <tr>
                        <th id="T_321fe_level0_row1" class="row_heading level0 row1" >ROE</th>
                        <td id="T_321fe_row1_col0" class="data row1 col0" >-12.72%</td>
                        <td id="T_321fe_row1_col1" class="data row1 col1" >12.93%</td>
                        <td id="T_321fe_row1_col2" class="data row1 col2" >29.37%</td>
                        <td id="T_321fe_row1_col3" class="data row1 col3" >29.86%</td>
                        <td id="T_321fe_row1_col4" class="data row1 col4" >32.84%</td>
                        <td id="T_321fe_row1_col5" class="data row1 col5" >32.84%</td>
                        <td id="T_321fe_row1_col6" class="data row1 col6" >24.45%</td>
                        <td id="T_321fe_row1_col7" class="data row1 col7" >20.64%</td>
                        <td id="T_321fe_row1_col8" class="data row1 col8" >20.34%</td>
                        <td id="T_321fe_row1_col9" class="data row1 col9" >16.55%</td>
                        <td id="T_321fe_row1_col10" class="data row1 col10" >14.44%</td>
                        <td id="T_321fe_row1_col11" class="data row1 col11" >13.89%</td>
                        <td id="T_321fe_row1_col12" class="data row1 col12" >12.95%</td>
                        <td id="T_321fe_row1_col13" class="data row1 col13" >11.06%</td>
                        <td id="T_321fe_row1_col14" class="data row1 col14" >9.76%</td>
            </tr>
            <tr>
                        <th id="T_321fe_level0_row2" class="row_heading level0 row2" >Charge-Off Rate</th>
                        <td id="T_321fe_row2_col0" class="data row2 col0" >1.79%</td>
                        <td id="T_321fe_row2_col1" class="data row2 col1" >1.30%</td>
                        <td id="T_321fe_row2_col2" class="data row2 col2" >0.83%</td>
                        <td id="T_321fe_row2_col3" class="data row2 col3" >0.66%</td>
                        <td id="T_321fe_row2_col4" class="data row2 col4" >0.42%</td>
                        <td id="T_321fe_row2_col5" class="data row2 col5" >0.32%</td>
                        <td id="T_321fe_row2_col6" class="data row2 col6" >0.33%</td>
                        <td id="T_321fe_row2_col7" class="data row2 col7" >0.38%</td>
                        <td id="T_321fe_row2_col8" class="data row2 col8" >0.26%</td>
                        <td id="T_321fe_row2_col9" class="data row2 col9" >0.47%</td>
                        <td id="T_321fe_row2_col10" class="data row2 col10" >0.47%</td>
                        <td id="T_321fe_row2_col11" class="data row2 col11" >0.50%</td>
                        <td id="T_321fe_row2_col12" class="data row2 col12" >0.44%</td>
                        <td id="T_321fe_row2_col13" class="data row2 col13" >0.53%</td>
                        <td id="T_321fe_row2_col14" class="data row2 col14" >0.55%</td>
            </tr>
    </tbody></table></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[54]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="s1">&#39;Gross Profit&#39;</span><span class="p">,</span> <span class="s1">&#39;Interest Revenue&#39;</span><span class="p">]</span>
<span class="n">sales</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">loan</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="k">for</span> <span class="n">loan</span> <span class="ow">in</span> <span class="n">loans</span><span class="p">])</span>
<span class="n">gm</span> <span class="o">=</span> <span class="o">.</span><span class="mi">15</span>
<span class="n">gp</span> <span class="o">=</span> <span class="n">sales</span><span class="o">*</span><span class="n">gm</span>
<span class="n">int_rev</span> <span class="o">=</span> <span class="n">IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Interest Exp&#39;</span><span class="p">]</span>

<span class="n">OPCO_IS</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">sales</span><span class="p">,</span> <span class="n">gp</span><span class="p">,</span> <span class="n">int_rev</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="n">periods</span><span class="p">]</span>
<span class="n">OPCO_IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Gross Profit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">OPCO_IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Gross Profit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">OPCO_IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Gross Profit&#39;</span><span class="p">])</span>
<span class="n">OPCO_IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;General Exp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">150000</span><span class="o">/</span><span class="mi">4</span><span class="o">*</span><span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="o">.</span><span class="mi">07</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span><span class="o">**</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">periods</span><span class="p">))</span>
<span class="n">OPCO_IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">OPCO_IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Gross Profit&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">OPCO_IS</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;General Exp&#39;</span><span class="p">]</span>

<span class="n">OPCOIS_annual</span> <span class="o">=</span> <span class="n">OPCO_IS</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">OPCO_IS</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">index</span><span class="o">//</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
<span class="n">OPCOIS_annual</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">OPCOIS_annual</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[55]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_23a73_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_23a73_level0_row0" class="row_heading level0 row0" >Sales</th>
                        <td id="T_23a73_row0_col0" class="data row0 col0" >849,676</td>
                        <td id="T_23a73_row0_col1" class="data row0 col1" >2,870,886</td>
                        <td id="T_23a73_row0_col2" class="data row0 col2" >4,525,714</td>
                        <td id="T_23a73_row0_col3" class="data row0 col3" >5,880,572</td>
                        <td id="T_23a73_row0_col4" class="data row0 col4" >6,989,836</td>
                        <td id="T_23a73_row0_col5" class="data row0 col5" >7,898,025</td>
                        <td id="T_23a73_row0_col6" class="data row0 col6" >8,641,587</td>
                        <td id="T_23a73_row0_col7" class="data row0 col7" >9,250,364</td>
                        <td id="T_23a73_row0_col8" class="data row0 col8" >9,748,788</td>
                        <td id="T_23a73_row0_col9" class="data row0 col9" >10,156,864</td>
                        <td id="T_23a73_row0_col10" class="data row0 col10" >10,490,968</td>
                        <td id="T_23a73_row0_col11" class="data row0 col11" >10,764,509</td>
                        <td id="T_23a73_row0_col12" class="data row0 col12" >10,988,465</td>
                        <td id="T_23a73_row0_col13" class="data row0 col13" >11,171,826</td>
                        <td id="T_23a73_row0_col14" class="data row0 col14" >11,321,948</td>
            </tr>
            <tr>
                        <th id="T_23a73_level0_row1" class="row_heading level0 row1" >Gross Profit</th>
                        <td id="T_23a73_row1_col0" class="data row1 col0" >127,451</td>
                        <td id="T_23a73_row1_col1" class="data row1 col1" >430,633</td>
                        <td id="T_23a73_row1_col2" class="data row1 col2" >678,857</td>
                        <td id="T_23a73_row1_col3" class="data row1 col3" >882,086</td>
                        <td id="T_23a73_row1_col4" class="data row1 col4" >1,048,475</td>
                        <td id="T_23a73_row1_col5" class="data row1 col5" >1,184,704</td>
                        <td id="T_23a73_row1_col6" class="data row1 col6" >1,296,238</td>
                        <td id="T_23a73_row1_col7" class="data row1 col7" >1,387,555</td>
                        <td id="T_23a73_row1_col8" class="data row1 col8" >1,462,318</td>
                        <td id="T_23a73_row1_col9" class="data row1 col9" >1,523,530</td>
                        <td id="T_23a73_row1_col10" class="data row1 col10" >1,573,645</td>
                        <td id="T_23a73_row1_col11" class="data row1 col11" >1,614,676</td>
                        <td id="T_23a73_row1_col12" class="data row1 col12" >1,648,270</td>
                        <td id="T_23a73_row1_col13" class="data row1 col13" >1,675,774</td>
                        <td id="T_23a73_row1_col14" class="data row1 col14" >1,698,292</td>
            </tr>
            <tr>
                        <th id="T_23a73_level0_row2" class="row_heading level0 row2" >Interest Revenue</th>
                        <td id="T_23a73_row2_col0" class="data row2 col0" >4,516</td>
                        <td id="T_23a73_row2_col1" class="data row2 col1" >30,730</td>
                        <td id="T_23a73_row2_col2" class="data row2 col2" >73,431</td>
                        <td id="T_23a73_row2_col3" class="data row2 col3" >122,638</td>
                        <td id="T_23a73_row2_col4" class="data row2 col4" >171,746</td>
                        <td id="T_23a73_row2_col5" class="data row2 col5" >214,335</td>
                        <td id="T_23a73_row2_col6" class="data row2 col6" >243,496</td>
                        <td id="T_23a73_row2_col7" class="data row2 col7" >263,039</td>
                        <td id="T_23a73_row2_col8" class="data row2 col8" >280,329</td>
                        <td id="T_23a73_row2_col9" class="data row2 col9" >282,564</td>
                        <td id="T_23a73_row2_col10" class="data row2 col10" >285,441</td>
                        <td id="T_23a73_row2_col11" class="data row2 col11" >282,021</td>
                        <td id="T_23a73_row2_col12" class="data row2 col12" >279,965</td>
                        <td id="T_23a73_row2_col13" class="data row2 col13" >267,796</td>
                        <td id="T_23a73_row2_col14" class="data row2 col14" >257,848</td>
            </tr>
            <tr>
                        <th id="T_23a73_level0_row3" class="row_heading level0 row3" >General Exp</th>
                        <td id="T_23a73_row3_col0" class="data row3 col0" >153,984</td>
                        <td id="T_23a73_row3_col1" class="data row3 col1" >165,049</td>
                        <td id="T_23a73_row3_col2" class="data row3 col2" >176,909</td>
                        <td id="T_23a73_row3_col3" class="data row3 col3" >189,622</td>
                        <td id="T_23a73_row3_col4" class="data row3 col4" >203,248</td>
                        <td id="T_23a73_row3_col5" class="data row3 col5" >217,853</td>
                        <td id="T_23a73_row3_col6" class="data row3 col6" >233,507</td>
                        <td id="T_23a73_row3_col7" class="data row3 col7" >250,287</td>
                        <td id="T_23a73_row3_col8" class="data row3 col8" >268,272</td>
                        <td id="T_23a73_row3_col9" class="data row3 col9" >287,550</td>
                        <td id="T_23a73_row3_col10" class="data row3 col10" >308,213</td>
                        <td id="T_23a73_row3_col11" class="data row3 col11" >330,361</td>
                        <td id="T_23a73_row3_col12" class="data row3 col12" >354,101</td>
                        <td id="T_23a73_row3_col13" class="data row3 col13" >379,546</td>
                        <td id="T_23a73_row3_col14" class="data row3 col14" >406,820</td>
            </tr>
            <tr>
                        <th id="T_23a73_level0_row4" class="row_heading level0 row4" >Profit</th>
                        <td id="T_23a73_row4_col0" class="data row4 col0" >-26,532</td>
                        <td id="T_23a73_row4_col1" class="data row4 col1" >265,584</td>
                        <td id="T_23a73_row4_col2" class="data row4 col2" >501,948</td>
                        <td id="T_23a73_row4_col3" class="data row4 col3" >692,464</td>
                        <td id="T_23a73_row4_col4" class="data row4 col4" >845,228</td>
                        <td id="T_23a73_row4_col5" class="data row4 col5" >966,851</td>
                        <td id="T_23a73_row4_col6" class="data row4 col6" >1,062,731</td>
                        <td id="T_23a73_row4_col7" class="data row4 col7" >1,137,268</td>
                        <td id="T_23a73_row4_col8" class="data row4 col8" >1,194,046</td>
                        <td id="T_23a73_row4_col9" class="data row4 col9" >1,235,979</td>
                        <td id="T_23a73_row4_col10" class="data row4 col10" >1,265,432</td>
                        <td id="T_23a73_row4_col11" class="data row4 col11" >1,284,315</td>
                        <td id="T_23a73_row4_col12" class="data row4 col12" >1,294,169</td>
                        <td id="T_23a73_row4_col13" class="data row4 col13" >1,296,228</td>
                        <td id="T_23a73_row4_col14" class="data row4 col14" >1,291,473</td>
            </tr>
    </tbody></table></div>
</div>
<p>Below we highlight some key details of the projection.</p>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<table><thead><tr><th>Year</th><th>Loans O/S</th><th>Fico RE</th><th>Fico Prof</th><th>Opco Prof</th></tr></thead><tbody><tr><td>5</td><td>14,739,707</td><td>875,894</td><td>461,313</td><td>845,228</td></tr><tr><td>15</td><td>30,428,394</td><td>10,936,400</td><td>1,251,526</td><td>1,291,473</td></tr></tbody><tfoot><tr><td colspan=3>Total Originations: 121,550,028</td></tr></tfoot></table></div>
</div>
</div>
<div class="section" id="Investment-Evaluation">
<h2>Investment Evaluation<a class="headerlink" href="#Investment-Evaluation" title="Permalink to this headline">¶</a></h2>
<p>We can now use our projections to evaluate the value of the investment to Opcos’ shareholders using <strong>Internal Rate of Return (IRR)</strong> and <strong>Net Present Value (NPV)</strong>.</p>
<p class="p-break"></p><p>Assumptions:</p>
<ul class="simple">
<li><p>Cash outflows (generally debt or equity investments) and inflows (profit or proceeds of financing) are netted for each year.</p></li>
<li><p>A terminal value is determined using a multiple of Year 15 profit, discounted back to present</p>
<ul>
<li><p>Opco TV multiple of 5.5x</p></li>
<li><p>Fico TV multiple of 5.5x</p></li>
</ul>
</li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[57]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">discount</span> <span class="o">=</span> <span class="o">.</span><span class="mi">10</span>
<span class="n">fico_mult</span> <span class="o">=</span> <span class="n">opco_mult</span> <span class="o">=</span> <span class="mf">5.5</span>

<span class="n">d_co</span> <span class="o">=</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span>
<span class="n">d_ci</span> <span class="o">=</span> <span class="n">OPCOIS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span>
<span class="n">opco_tv</span> <span class="o">=</span> <span class="n">OPCOIS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span><span class="o">*</span><span class="n">fico_mult</span>

<span class="n">d_co</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">d_co</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">d_ci</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">d_ci</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">opco_tv</span>

<span class="n">d_irr</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">)</span>
<span class="n">d_npv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">)</span>

<span class="n">e_co</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">e_ci</span> <span class="o">=</span> <span class="n">IS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span>
<span class="n">fico_tv</span> <span class="o">=</span> <span class="n">IS_annual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span><span class="o">*</span><span class="n">opco_mult</span>

<span class="n">e_co</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">e_co</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">e_ci</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">e_ci</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">fico_tv</span>

<span class="n">e_irr</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>
<span class="n">e_npv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>

<span class="n">irr</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span> <span class="o">+</span> <span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>
<span class="n">npv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span> <span class="o">+</span> <span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>

<span class="n">irr_ex_tv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">d_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">npv_ex_tv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">d_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<table><thead><tr><th>Capital</th><th>NPV</th><th>IRR</th></tr></thead><tbody><tr><td>Debt</td><td>-5,346,916</td><td>2.4%</td></tr><tr><td>Equity</td><td>5,352,259</td><td>80.7%</td></tr><tr><td>Total</td><td>5,344</td><td>10.0%</td></tr><tr><td>Total ex TV</td><td>-3,342,912</td><td>4.6%</td></tr></tbody><tfoot><tr><td colspan=3>NPV assumes 10% discount</td></tr></tfoot></table></div>
</div>
</div>
<div class="section" id="3rd-Party-Borrowing">
<h2>3rd Party Borrowing<a class="headerlink" href="#3rd-Party-Borrowing" title="Permalink to this headline">¶</a></h2>
<p>We will adjust the evaluation above to consider the impact of acquiring 3rd party financing for Fico at the 5-year mark. The addition of 3rd party financing should reduce Opco capital requirements and enhance the project’s return.</p>
<p class="p-break"></p><p>Assumptions:</p>
<ul class="simple">
<li><p>Year 0 - 5: 0% of debt financed by 3rd Party</p></li>
<li><p>Year 5 - 10: 50% of debt financed by 3rd Party</p></li>
<li><p>Year 10 - 15: 75% of debt financed by 3rd Party</p></li>
<li><p>3rd Party Finance Rate: 2.75%</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[59]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">BS3</span> <span class="o">=</span> <span class="n">BS_annual</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">IS3</span> <span class="o">=</span> <span class="n">IS_annual</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">OPCO_IS3</span> <span class="o">=</span> <span class="n">OPCOIS_annual</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">bank_debt_rate</span> <span class="o">=</span> <span class="o">.</span><span class="mi">0275</span>

<span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Bank Debt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Shhr Debt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Retained Earnings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">BS3</span> <span class="o">=</span> <span class="n">BS3</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s1">&#39;Loans&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Cash&#39;</span><span class="p">,</span> <span class="s1">&#39;Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Bank Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Shhr Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Net Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Req Equity&#39;</span><span class="p">,</span> <span class="s1">&#39;Retained Earnings&#39;</span><span class="p">,</span> <span class="s1">&#39;Equity&#39;</span><span class="p">,</span> <span class="s1">&#39;D+E&#39;</span><span class="p">])</span>

<span class="n">OPCO_IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;General Exp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">150000</span><span class="o">*</span><span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="o">.</span><span class="mi">07</span><span class="p">)</span><span class="o">**</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>

<span class="n">OPCO_IS3</span> <span class="o">=</span> <span class="n">OPCO_IS3</span><span class="o">.</span><span class="n">reindex</span><span class="p">([</span><span class="s1">&#39;Sales&#39;</span><span class="p">,</span> <span class="s1">&#39;Gross Profit&#39;</span><span class="p">,</span> <span class="s1">&#39;Interest Revenue&#39;</span><span class="p">,</span> <span class="s1">&#39;General Exp&#39;</span><span class="p">,</span> <span class="s1">&#39;Profit&#39;</span><span class="p">])</span>
<span class="n">OPCO_IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">OPCO_IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Gross Profit&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">OPCO_IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;General Exp&#39;</span><span class="p">]</span>

<span class="c1"># Adjust Interest Expense and Debt for profits</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">BS3</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
    <span class="n">bank_factor</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="k">else</span> <span class="p">(</span><span class="o">.</span><span class="mi">5</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="k">else</span> <span class="o">.</span><span class="mi">75</span><span class="p">)</span>
    <span class="n">rate_factor</span> <span class="o">=</span> <span class="n">debt_rate</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="k">else</span> <span class="p">((</span><span class="n">debt_rate</span> <span class="o">+</span> <span class="n">bank_debt_rate</span><span class="p">)</span><span class="o">*.</span><span class="mi">5</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="k">else</span> <span class="p">(</span><span class="n">bank_debt_rate</span><span class="o">*.</span><span class="mi">75</span> <span class="o">+</span> <span class="n">debt_rate</span><span class="o">*.</span><span class="mi">25</span><span class="p">))</span>
    <span class="n">re</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Retained Earnings&#39;</span><span class="p">,</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">num</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Loans&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Revenue&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> \
        <span class="o">-</span> <span class="n">re</span> <span class="o">+</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Charge Offs&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Debt&#39;</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">rate_factor</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">denom</span> <span class="o">=</span> <span class="n">rate_factor</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Cash&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">num</span><span class="o">/</span><span class="n">denom</span>
    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Debt&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Cash&#39;</span><span class="p">]</span>
    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Bank Debt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">bank_factor</span>
    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Shhr Debt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Bank Debt&#39;</span><span class="p">]</span>

    <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Interest Exp&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Shhr Debt&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">debt_rate</span> <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Bank Debt&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">bank_debt_rate</span>
    <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Revenue&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Charge Offs&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> \
        <span class="o">-</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Interest Exp&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span>

    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Retained Earnings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span> <span class="o">+</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span>
    <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Retained Earnings&#39;</span><span class="p">]</span>  <span class="o">+</span> <span class="n">col</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span>

<span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;D+E&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Net Debt&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span>
<span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;bal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;D+E&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Assets&#39;</span><span class="p">]</span>
<span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;bal2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;D+E&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="s1">&#39;Bank Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Shhr Debt&#39;</span><span class="p">,</span> <span class="s1">&#39;Req Equity&#39;</span><span class="p">,</span> <span class="s1">&#39;Retained Earnings&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>


<span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;CapRat&#39;</span><span class="p">,</span> <span class="s1">&#39;ROE&#39;</span><span class="p">,</span> <span class="s1">&#39;CORate&#39;</span><span class="p">]</span>
<span class="n">tnw</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">BS3</span><span class="o">.</span><span class="n">columns</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Shhr Debt&#39;</span><span class="p">],</span>  <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">])</span>
<span class="n">caprat</span> <span class="o">=</span> <span class="n">tnw</span> <span class="o">/</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Loans&#39;</span><span class="p">]</span>
<span class="n">roe</span> <span class="o">=</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span>
<span class="n">cumroe</span> <span class="o">=</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span> <span class="o">/</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Equity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">co_annual</span> <span class="o">=</span> <span class="n">charge_offs</span><span class="p">[:</span><span class="n">periods</span><span class="p">]</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">periods</span><span class="o">//</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">co_rate</span> <span class="o">=</span> <span class="n">co_annual</span> <span class="o">/</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Loans&#39;</span><span class="p">]</span>
<span class="n">rats</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">caprat</span><span class="p">,</span> <span class="n">roe</span><span class="p">,</span> <span class="n">co_rate</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[60]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_31595_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_31595_level0_row0" class="row_heading level0 row0" >Revenue</th>
                        <td id="T_31595_row0_col0" class="data row0 col0" >8,904</td>
                        <td id="T_31595_row0_col1" class="data row0 col1" >99,345</td>
                        <td id="T_31595_row0_col2" class="data row0 col2" >257,804</td>
                        <td id="T_31595_row0_col3" class="data row0 col3" >467,596</td>
                        <td id="T_31595_row0_col4" class="data row0 col4" >694,241</td>
                        <td id="T_31595_row0_col5" class="data row0 col5" >890,362</td>
                        <td id="T_31595_row0_col6" class="data row0 col6" >1,048,601</td>
                        <td id="T_31595_row0_col7" class="data row0 col7" >1,201,555</td>
                        <td id="T_31595_row0_col8" class="data row0 col8" >1,306,896</td>
                        <td id="T_31595_row0_col9" class="data row0 col9" >1,407,520</td>
                        <td id="T_31595_row0_col10" class="data row0 col10" >1,480,673</td>
                        <td id="T_31595_row0_col11" class="data row0 col11" >1,562,214</td>
                        <td id="T_31595_row0_col12" class="data row0 col12" >1,620,870</td>
                        <td id="T_31595_row0_col13" class="data row0 col13" >1,650,765</td>
                        <td id="T_31595_row0_col14" class="data row0 col14" >1,675,660</td>
            </tr>
            <tr>
                        <th id="T_31595_level0_row1" class="row_heading level0 row1" >Charge Offs</th>
                        <td id="T_31595_row1_col0" class="data row1 col0" >14,797</td>
                        <td id="T_31595_row1_col1" class="data row1 col1" >43,931</td>
                        <td id="T_31595_row1_col2" class="data row1 col2" >57,471</td>
                        <td id="T_31595_row1_col3" class="data row1 col3" >71,555</td>
                        <td id="T_31595_row1_col4" class="data row1 col4" >61,182</td>
                        <td id="T_31595_row1_col5" class="data row1 col5" >57,483</td>
                        <td id="T_31595_row1_col6" class="data row1 col6" >68,947</td>
                        <td id="T_31595_row1_col7" class="data row1 col7" >86,936</td>
                        <td id="T_31595_row1_col8" class="data row1 col8" >64,089</td>
                        <td id="T_31595_row1_col9" class="data row1 col9" >123,321</td>
                        <td id="T_31595_row1_col10" class="data row1 col10" >128,862</td>
                        <td id="T_31595_row1_col11" class="data row1 col11" >143,344</td>
                        <td id="T_31595_row1_col12" class="data row1 col12" >128,960</td>
                        <td id="T_31595_row1_col13" class="data row1 col13" >159,551</td>
                        <td id="T_31595_row1_col14" class="data row1 col14" >166,286</td>
            </tr>
            <tr>
                        <th id="T_31595_level0_row2" class="row_heading level0 row2" >Interest Exp</th>
                        <td id="T_31595_row2_col0" class="data row2 col0" >10,636</td>
                        <td id="T_31595_row2_col1" class="data row2 col1" >45,583</td>
                        <td id="T_31595_row2_col2" class="data row2 col2" >93,012</td>
                        <td id="T_31595_row2_col3" class="data row2 col3" >142,675</td>
                        <td id="T_31595_row2_col4" class="data row2 col4" >281,587</td>
                        <td id="T_31595_row2_col5" class="data row2 col5" >342,789</td>
                        <td id="T_31595_row2_col6" class="data row2 col6" >378,143</td>
                        <td id="T_31595_row2_col7" class="data row2 col7" >403,805</td>
                        <td id="T_31595_row2_col8" class="data row2 col8" >431,855</td>
                        <td id="T_31595_row2_col9" class="data row2 col9" >510,175</td>
                        <td id="T_31595_row2_col10" class="data row2 col10" >512,675</td>
                        <td id="T_31595_row2_col11" class="data row2 col11" >523,248</td>
                        <td id="T_31595_row2_col12" class="data row2 col12" >520,435</td>
                        <td id="T_31595_row2_col13" class="data row2 col13" >501,041</td>
                        <td id="T_31595_row2_col14" class="data row2 col14" >476,817</td>
            </tr>
            <tr>
                        <th id="T_31595_level0_row3" class="row_heading level0 row3" >Profit</th>
                        <td id="T_31595_row3_col0" class="data row3 col0" >-16,529</td>
                        <td id="T_31595_row3_col1" class="data row3 col1" >9,831</td>
                        <td id="T_31595_row3_col2" class="data row3 col2" >107,321</td>
                        <td id="T_31595_row3_col3" class="data row3 col3" >253,367</td>
                        <td id="T_31595_row3_col4" class="data row3 col4" >351,473</td>
                        <td id="T_31595_row3_col5" class="data row3 col5" >490,089</td>
                        <td id="T_31595_row3_col6" class="data row3 col6" >601,511</td>
                        <td id="T_31595_row3_col7" class="data row3 col7" >710,814</td>
                        <td id="T_31595_row3_col8" class="data row3 col8" >810,952</td>
                        <td id="T_31595_row3_col9" class="data row3 col9" >774,025</td>
                        <td id="T_31595_row3_col10" class="data row3 col10" >839,136</td>
                        <td id="T_31595_row3_col11" class="data row3 col11" >895,622</td>
                        <td id="T_31595_row3_col12" class="data row3 col12" >971,475</td>
                        <td id="T_31595_row3_col13" class="data row3 col13" >990,173</td>
                        <td id="T_31595_row3_col14" class="data row3 col14" >1,032,557</td>
            </tr>
    </tbody></table></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[61]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_f7b0b_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_f7b0b_level0_row0" class="row_heading level0 row0" >Loans</th>
                        <td id="T_f7b0b_row0_col0" class="data row0 col0" >824,712</td>
                        <td id="T_f7b0b_row0_col1" class="data row0 col1" >3,380,021</td>
                        <td id="T_f7b0b_row0_col2" class="data row0 col2" >6,941,695</td>
                        <td id="T_f7b0b_row0_col3" class="data row0 col3" >10,902,509</td>
                        <td id="T_f7b0b_row0_col4" class="data row0 col4" >14,739,707</td>
                        <td id="T_f7b0b_row0_col5" class="data row0 col5" >18,025,552</td>
                        <td id="T_f7b0b_row0_col6" class="data row0 col6" >20,714,168</td>
                        <td id="T_f7b0b_row0_col7" class="data row0 col7" >22,918,076</td>
                        <td id="T_f7b0b_row0_col8" class="data row0 col8" >24,719,051</td>
                        <td id="T_f7b0b_row0_col9" class="data row0 col9" >26,201,402</td>
                        <td id="T_f7b0b_row0_col10" class="data row0 col10" >27,413,005</td>
                        <td id="T_f7b0b_row0_col11" class="data row0 col11" >28,405,990</td>
                        <td id="T_f7b0b_row0_col12" class="data row0 col12" >29,227,163</td>
                        <td id="T_f7b0b_row0_col13" class="data row0 col13" >29,889,483</td>
                        <td id="T_f7b0b_row0_col14" class="data row0 col14" >30,428,394</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row1" class="row_heading level0 row1" >Assets</th>
                        <td id="T_f7b0b_row1_col0" class="data row1 col0" >824,712</td>
                        <td id="T_f7b0b_row1_col1" class="data row1 col1" >3,380,021</td>
                        <td id="T_f7b0b_row1_col2" class="data row1 col2" >6,941,695</td>
                        <td id="T_f7b0b_row1_col3" class="data row1 col3" >10,902,509</td>
                        <td id="T_f7b0b_row1_col4" class="data row1 col4" >14,739,707</td>
                        <td id="T_f7b0b_row1_col5" class="data row1 col5" >18,025,552</td>
                        <td id="T_f7b0b_row1_col6" class="data row1 col6" >20,714,168</td>
                        <td id="T_f7b0b_row1_col7" class="data row1 col7" >22,918,076</td>
                        <td id="T_f7b0b_row1_col8" class="data row1 col8" >24,719,051</td>
                        <td id="T_f7b0b_row1_col9" class="data row1 col9" >26,201,402</td>
                        <td id="T_f7b0b_row1_col10" class="data row1 col10" >27,413,005</td>
                        <td id="T_f7b0b_row1_col11" class="data row1 col11" >28,405,990</td>
                        <td id="T_f7b0b_row1_col12" class="data row1 col12" >29,227,163</td>
                        <td id="T_f7b0b_row1_col13" class="data row1 col13" >29,889,483</td>
                        <td id="T_f7b0b_row1_col14" class="data row1 col14" >30,428,394</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row2" class="row_heading level0 row2" >Cash</th>
                        <td id="T_f7b0b_row2_col0" class="data row2 col0" >16,529</td>
                        <td id="T_f7b0b_row2_col1" class="data row2 col1" >6,698</td>
                        <td id="T_f7b0b_row2_col2" class="data row2 col2" >-100,623</td>
                        <td id="T_f7b0b_row2_col3" class="data row2 col3" >-353,990</td>
                        <td id="T_f7b0b_row2_col4" class="data row2 col4" >-705,462</td>
                        <td id="T_f7b0b_row2_col5" class="data row2 col5" >-1,195,552</td>
                        <td id="T_f7b0b_row2_col6" class="data row2 col6" >-1,797,062</td>
                        <td id="T_f7b0b_row2_col7" class="data row2 col7" >-2,507,877</td>
                        <td id="T_f7b0b_row2_col8" class="data row2 col8" >-3,318,829</td>
                        <td id="T_f7b0b_row2_col9" class="data row2 col9" >-4,092,854</td>
                        <td id="T_f7b0b_row2_col10" class="data row2 col10" >-4,931,990</td>
                        <td id="T_f7b0b_row2_col11" class="data row2 col11" >-5,827,612</td>
                        <td id="T_f7b0b_row2_col12" class="data row2 col12" >-6,799,087</td>
                        <td id="T_f7b0b_row2_col13" class="data row2 col13" >-7,789,261</td>
                        <td id="T_f7b0b_row2_col14" class="data row2 col14" >-8,821,817</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row3" class="row_heading level0 row3" >Debt</th>
                        <td id="T_f7b0b_row3_col0" class="data row3 col0" >732,496</td>
                        <td id="T_f7b0b_row3_col1" class="data row3 col1" >3,203,356</td>
                        <td id="T_f7b0b_row3_col2" class="data row3 col2" >6,650,776</td>
                        <td id="T_f7b0b_row3_col3" class="data row3 col3" >10,401,511</td>
                        <td id="T_f7b0b_row3_col4" class="data row3 col4" >14,210,815</td>
                        <td id="T_f7b0b_row3_col5" class="data row3 col5" >17,636,266</td>
                        <td id="T_f7b0b_row3_col6" class="data row3 col6" >19,933,423</td>
                        <td id="T_f7b0b_row3_col7" class="data row3 col7" >21,875,030</td>
                        <td id="T_f7b0b_row3_col8" class="data row3 col8" >24,031,296</td>
                        <td id="T_f7b0b_row3_col9" class="data row3 col9" >25,196,249</td>
                        <td id="T_f7b0b_row3_col10" class="data row3 col10" >26,138,831</td>
                        <td id="T_f7b0b_row3_col11" class="data row3 col11" >27,471,808</td>
                        <td id="T_f7b0b_row3_col12" class="data row3 col12" >28,326,894</td>
                        <td id="T_f7b0b_row3_col13" class="data row3 col13" >28,514,828</td>
                        <td id="T_f7b0b_row3_col14" class="data row3 col14" >28,545,384</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row4" class="row_heading level0 row4" >Bank Debt</th>
                        <td id="T_f7b0b_row4_col0" class="data row4 col0" >0</td>
                        <td id="T_f7b0b_row4_col1" class="data row4 col1" >0</td>
                        <td id="T_f7b0b_row4_col2" class="data row4 col2" >0</td>
                        <td id="T_f7b0b_row4_col3" class="data row4 col3" >0</td>
                        <td id="T_f7b0b_row4_col4" class="data row4 col4" >6,752,677</td>
                        <td id="T_f7b0b_row4_col5" class="data row4 col5" >8,220,357</td>
                        <td id="T_f7b0b_row4_col6" class="data row4 col6" >9,068,180</td>
                        <td id="T_f7b0b_row4_col7" class="data row4 col7" >9,683,577</td>
                        <td id="T_f7b0b_row4_col8" class="data row4 col8" >10,356,234</td>
                        <td id="T_f7b0b_row4_col9" class="data row4 col9" >15,827,546</td>
                        <td id="T_f7b0b_row4_col10" class="data row4 col10" >15,905,130</td>
                        <td id="T_f7b0b_row4_col11" class="data row4 col11" >16,233,147</td>
                        <td id="T_f7b0b_row4_col12" class="data row4 col12" >16,145,855</td>
                        <td id="T_f7b0b_row4_col13" class="data row4 col13" >15,544,176</td>
                        <td id="T_f7b0b_row4_col14" class="data row4 col14" >14,792,675</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row5" class="row_heading level0 row5" >Shhr Debt</th>
                        <td id="T_f7b0b_row5_col0" class="data row5 col0" >749,025</td>
                        <td id="T_f7b0b_row5_col1" class="data row5 col1" >3,210,054</td>
                        <td id="T_f7b0b_row5_col2" class="data row5 col2" >6,550,153</td>
                        <td id="T_f7b0b_row5_col3" class="data row5 col3" >10,047,521</td>
                        <td id="T_f7b0b_row5_col4" class="data row5 col4" >6,752,677</td>
                        <td id="T_f7b0b_row5_col5" class="data row5 col5" >8,220,357</td>
                        <td id="T_f7b0b_row5_col6" class="data row5 col6" >9,068,180</td>
                        <td id="T_f7b0b_row5_col7" class="data row5 col7" >9,683,577</td>
                        <td id="T_f7b0b_row5_col8" class="data row5 col8" >10,356,234</td>
                        <td id="T_f7b0b_row5_col9" class="data row5 col9" >5,275,849</td>
                        <td id="T_f7b0b_row5_col10" class="data row5 col10" >5,301,710</td>
                        <td id="T_f7b0b_row5_col11" class="data row5 col11" >5,411,049</td>
                        <td id="T_f7b0b_row5_col12" class="data row5 col12" >5,381,952</td>
                        <td id="T_f7b0b_row5_col13" class="data row5 col13" >5,181,392</td>
                        <td id="T_f7b0b_row5_col14" class="data row5 col14" >4,930,892</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row6" class="row_heading level0 row6" >Net Debt</th>
                        <td id="T_f7b0b_row6_col0" class="data row6 col0" >749,025</td>
                        <td id="T_f7b0b_row6_col1" class="data row6 col1" >3,210,054</td>
                        <td id="T_f7b0b_row6_col2" class="data row6 col2" >6,550,153</td>
                        <td id="T_f7b0b_row6_col3" class="data row6 col3" >10,047,521</td>
                        <td id="T_f7b0b_row6_col4" class="data row6 col4" >13,505,353</td>
                        <td id="T_f7b0b_row6_col5" class="data row6 col5" >16,440,714</td>
                        <td id="T_f7b0b_row6_col6" class="data row6 col6" >18,136,361</td>
                        <td id="T_f7b0b_row6_col7" class="data row6 col7" >19,367,154</td>
                        <td id="T_f7b0b_row6_col8" class="data row6 col8" >20,712,467</td>
                        <td id="T_f7b0b_row6_col9" class="data row6 col9" >21,103,395</td>
                        <td id="T_f7b0b_row6_col10" class="data row6 col10" >21,206,841</td>
                        <td id="T_f7b0b_row6_col11" class="data row6 col11" >21,644,196</td>
                        <td id="T_f7b0b_row6_col12" class="data row6 col12" >21,527,806</td>
                        <td id="T_f7b0b_row6_col13" class="data row6 col13" >20,725,567</td>
                        <td id="T_f7b0b_row6_col14" class="data row6 col14" >19,723,567</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row7" class="row_heading level0 row7" >Req Equity</th>
                        <td id="T_f7b0b_row7_col0" class="data row7 col0" >92,216</td>
                        <td id="T_f7b0b_row7_col1" class="data row7 col1" >176,665</td>
                        <td id="T_f7b0b_row7_col2" class="data row7 col2" >290,919</td>
                        <td id="T_f7b0b_row7_col3" class="data row7 col3" >500,998</td>
                        <td id="T_f7b0b_row7_col4" class="data row7 col4" >528,892</td>
                        <td id="T_f7b0b_row7_col5" class="data row7 col5" >389,286</td>
                        <td id="T_f7b0b_row7_col6" class="data row7 col6" >780,745</td>
                        <td id="T_f7b0b_row7_col7" class="data row7 col7" >1,043,046</td>
                        <td id="T_f7b0b_row7_col8" class="data row7 col8" >687,754</td>
                        <td id="T_f7b0b_row7_col9" class="data row7 col9" >1,005,153</td>
                        <td id="T_f7b0b_row7_col10" class="data row7 col10" >1,274,174</td>
                        <td id="T_f7b0b_row7_col11" class="data row7 col11" >934,182</td>
                        <td id="T_f7b0b_row7_col12" class="data row7 col12" >900,269</td>
                        <td id="T_f7b0b_row7_col13" class="data row7 col13" >1,374,655</td>
                        <td id="T_f7b0b_row7_col14" class="data row7 col14" >1,883,010</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row8" class="row_heading level0 row8" >Retained Earnings</th>
                        <td id="T_f7b0b_row8_col0" class="data row8 col0" >-16,529</td>
                        <td id="T_f7b0b_row8_col1" class="data row8 col1" >-6,698</td>
                        <td id="T_f7b0b_row8_col2" class="data row8 col2" >100,623</td>
                        <td id="T_f7b0b_row8_col3" class="data row8 col3" >353,990</td>
                        <td id="T_f7b0b_row8_col4" class="data row8 col4" >705,462</td>
                        <td id="T_f7b0b_row8_col5" class="data row8 col5" >1,195,552</td>
                        <td id="T_f7b0b_row8_col6" class="data row8 col6" >1,797,062</td>
                        <td id="T_f7b0b_row8_col7" class="data row8 col7" >2,507,877</td>
                        <td id="T_f7b0b_row8_col8" class="data row8 col8" >3,318,829</td>
                        <td id="T_f7b0b_row8_col9" class="data row8 col9" >4,092,854</td>
                        <td id="T_f7b0b_row8_col10" class="data row8 col10" >4,931,990</td>
                        <td id="T_f7b0b_row8_col11" class="data row8 col11" >5,827,612</td>
                        <td id="T_f7b0b_row8_col12" class="data row8 col12" >6,799,087</td>
                        <td id="T_f7b0b_row8_col13" class="data row8 col13" >7,789,261</td>
                        <td id="T_f7b0b_row8_col14" class="data row8 col14" >8,821,817</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row9" class="row_heading level0 row9" >Equity</th>
                        <td id="T_f7b0b_row9_col0" class="data row9 col0" >75,687</td>
                        <td id="T_f7b0b_row9_col1" class="data row9 col1" >169,968</td>
                        <td id="T_f7b0b_row9_col2" class="data row9 col2" >391,542</td>
                        <td id="T_f7b0b_row9_col3" class="data row9 col3" >854,988</td>
                        <td id="T_f7b0b_row9_col4" class="data row9 col4" >1,234,354</td>
                        <td id="T_f7b0b_row9_col5" class="data row9 col5" >1,584,838</td>
                        <td id="T_f7b0b_row9_col6" class="data row9 col6" >2,577,807</td>
                        <td id="T_f7b0b_row9_col7" class="data row9 col7" >3,550,922</td>
                        <td id="T_f7b0b_row9_col8" class="data row9 col8" >4,006,583</td>
                        <td id="T_f7b0b_row9_col9" class="data row9 col9" >5,098,007</td>
                        <td id="T_f7b0b_row9_col10" class="data row9 col10" >6,206,164</td>
                        <td id="T_f7b0b_row9_col11" class="data row9 col11" >6,761,794</td>
                        <td id="T_f7b0b_row9_col12" class="data row9 col12" >7,699,357</td>
                        <td id="T_f7b0b_row9_col13" class="data row9 col13" >9,163,915</td>
                        <td id="T_f7b0b_row9_col14" class="data row9 col14" >10,704,827</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row10" class="row_heading level0 row10" >D+E</th>
                        <td id="T_f7b0b_row10_col0" class="data row10 col0" >824,712</td>
                        <td id="T_f7b0b_row10_col1" class="data row10 col1" >3,380,021</td>
                        <td id="T_f7b0b_row10_col2" class="data row10 col2" >6,941,695</td>
                        <td id="T_f7b0b_row10_col3" class="data row10 col3" >10,902,509</td>
                        <td id="T_f7b0b_row10_col4" class="data row10 col4" >14,739,707</td>
                        <td id="T_f7b0b_row10_col5" class="data row10 col5" >18,025,552</td>
                        <td id="T_f7b0b_row10_col6" class="data row10 col6" >20,714,168</td>
                        <td id="T_f7b0b_row10_col7" class="data row10 col7" >22,918,076</td>
                        <td id="T_f7b0b_row10_col8" class="data row10 col8" >24,719,051</td>
                        <td id="T_f7b0b_row10_col9" class="data row10 col9" >26,201,402</td>
                        <td id="T_f7b0b_row10_col10" class="data row10 col10" >27,413,005</td>
                        <td id="T_f7b0b_row10_col11" class="data row10 col11" >28,405,990</td>
                        <td id="T_f7b0b_row10_col12" class="data row10 col12" >29,227,163</td>
                        <td id="T_f7b0b_row10_col13" class="data row10 col13" >29,889,483</td>
                        <td id="T_f7b0b_row10_col14" class="data row10 col14" >30,428,394</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row11" class="row_heading level0 row11" >bal</th>
                        <td id="T_f7b0b_row11_col0" class="data row11 col0" >0</td>
                        <td id="T_f7b0b_row11_col1" class="data row11 col1" >0</td>
                        <td id="T_f7b0b_row11_col2" class="data row11 col2" >-0</td>
                        <td id="T_f7b0b_row11_col3" class="data row11 col3" >-0</td>
                        <td id="T_f7b0b_row11_col4" class="data row11 col4" >-0</td>
                        <td id="T_f7b0b_row11_col5" class="data row11 col5" >0</td>
                        <td id="T_f7b0b_row11_col6" class="data row11 col6" >0</td>
                        <td id="T_f7b0b_row11_col7" class="data row11 col7" >-0</td>
                        <td id="T_f7b0b_row11_col8" class="data row11 col8" >0</td>
                        <td id="T_f7b0b_row11_col9" class="data row11 col9" >0</td>
                        <td id="T_f7b0b_row11_col10" class="data row11 col10" >0</td>
                        <td id="T_f7b0b_row11_col11" class="data row11 col11" >0</td>
                        <td id="T_f7b0b_row11_col12" class="data row11 col12" >0</td>
                        <td id="T_f7b0b_row11_col13" class="data row11 col13" >0</td>
                        <td id="T_f7b0b_row11_col14" class="data row11 col14" >0</td>
            </tr>
            <tr>
                        <th id="T_f7b0b_level0_row12" class="row_heading level0 row12" >bal2</th>
                        <td id="T_f7b0b_row12_col0" class="data row12 col0" >-0</td>
                        <td id="T_f7b0b_row12_col1" class="data row12 col1" >0</td>
                        <td id="T_f7b0b_row12_col2" class="data row12 col2" >0</td>
                        <td id="T_f7b0b_row12_col3" class="data row12 col3" >-0</td>
                        <td id="T_f7b0b_row12_col4" class="data row12 col4" >0</td>
                        <td id="T_f7b0b_row12_col5" class="data row12 col5" >-0</td>
                        <td id="T_f7b0b_row12_col6" class="data row12 col6" >0</td>
                        <td id="T_f7b0b_row12_col7" class="data row12 col7" >0</td>
                        <td id="T_f7b0b_row12_col8" class="data row12 col8" >0</td>
                        <td id="T_f7b0b_row12_col9" class="data row12 col9" >0</td>
                        <td id="T_f7b0b_row12_col10" class="data row12 col10" >0</td>
                        <td id="T_f7b0b_row12_col11" class="data row12 col11" >0</td>
                        <td id="T_f7b0b_row12_col12" class="data row12 col12" >0</td>
                        <td id="T_f7b0b_row12_col13" class="data row12 col13" >0</td>
                        <td id="T_f7b0b_row12_col14" class="data row12 col14" >0</td>
            </tr>
    </tbody></table></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[62]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_98a2c_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_98a2c_level0_row0" class="row_heading level0 row0" >Sales</th>
                        <td id="T_98a2c_row0_col0" class="data row0 col0" >849,676</td>
                        <td id="T_98a2c_row0_col1" class="data row0 col1" >2,870,886</td>
                        <td id="T_98a2c_row0_col2" class="data row0 col2" >4,525,714</td>
                        <td id="T_98a2c_row0_col3" class="data row0 col3" >5,880,572</td>
                        <td id="T_98a2c_row0_col4" class="data row0 col4" >6,989,836</td>
                        <td id="T_98a2c_row0_col5" class="data row0 col5" >7,898,025</td>
                        <td id="T_98a2c_row0_col6" class="data row0 col6" >8,641,587</td>
                        <td id="T_98a2c_row0_col7" class="data row0 col7" >9,250,364</td>
                        <td id="T_98a2c_row0_col8" class="data row0 col8" >9,748,788</td>
                        <td id="T_98a2c_row0_col9" class="data row0 col9" >10,156,864</td>
                        <td id="T_98a2c_row0_col10" class="data row0 col10" >10,490,968</td>
                        <td id="T_98a2c_row0_col11" class="data row0 col11" >10,764,509</td>
                        <td id="T_98a2c_row0_col12" class="data row0 col12" >10,988,465</td>
                        <td id="T_98a2c_row0_col13" class="data row0 col13" >11,171,826</td>
                        <td id="T_98a2c_row0_col14" class="data row0 col14" >11,321,948</td>
            </tr>
            <tr>
                        <th id="T_98a2c_level0_row1" class="row_heading level0 row1" >Gross Profit</th>
                        <td id="T_98a2c_row1_col0" class="data row1 col0" >127,451</td>
                        <td id="T_98a2c_row1_col1" class="data row1 col1" >430,633</td>
                        <td id="T_98a2c_row1_col2" class="data row1 col2" >678,857</td>
                        <td id="T_98a2c_row1_col3" class="data row1 col3" >882,086</td>
                        <td id="T_98a2c_row1_col4" class="data row1 col4" >1,048,475</td>
                        <td id="T_98a2c_row1_col5" class="data row1 col5" >1,184,704</td>
                        <td id="T_98a2c_row1_col6" class="data row1 col6" >1,296,238</td>
                        <td id="T_98a2c_row1_col7" class="data row1 col7" >1,387,555</td>
                        <td id="T_98a2c_row1_col8" class="data row1 col8" >1,462,318</td>
                        <td id="T_98a2c_row1_col9" class="data row1 col9" >1,523,530</td>
                        <td id="T_98a2c_row1_col10" class="data row1 col10" >1,573,645</td>
                        <td id="T_98a2c_row1_col11" class="data row1 col11" >1,614,676</td>
                        <td id="T_98a2c_row1_col12" class="data row1 col12" >1,648,270</td>
                        <td id="T_98a2c_row1_col13" class="data row1 col13" >1,675,774</td>
                        <td id="T_98a2c_row1_col14" class="data row1 col14" >1,698,292</td>
            </tr>
            <tr>
                        <th id="T_98a2c_level0_row2" class="row_heading level0 row2" >Interest Revenue</th>
                        <td id="T_98a2c_row2_col0" class="data row2 col0" >4,516</td>
                        <td id="T_98a2c_row2_col1" class="data row2 col1" >30,730</td>
                        <td id="T_98a2c_row2_col2" class="data row2 col2" >73,431</td>
                        <td id="T_98a2c_row2_col3" class="data row2 col3" >122,638</td>
                        <td id="T_98a2c_row2_col4" class="data row2 col4" >171,746</td>
                        <td id="T_98a2c_row2_col5" class="data row2 col5" >214,335</td>
                        <td id="T_98a2c_row2_col6" class="data row2 col6" >243,496</td>
                        <td id="T_98a2c_row2_col7" class="data row2 col7" >263,039</td>
                        <td id="T_98a2c_row2_col8" class="data row2 col8" >280,329</td>
                        <td id="T_98a2c_row2_col9" class="data row2 col9" >282,564</td>
                        <td id="T_98a2c_row2_col10" class="data row2 col10" >285,441</td>
                        <td id="T_98a2c_row2_col11" class="data row2 col11" >282,021</td>
                        <td id="T_98a2c_row2_col12" class="data row2 col12" >279,965</td>
                        <td id="T_98a2c_row2_col13" class="data row2 col13" >267,796</td>
                        <td id="T_98a2c_row2_col14" class="data row2 col14" >257,848</td>
            </tr>
            <tr>
                        <th id="T_98a2c_level0_row3" class="row_heading level0 row3" >General Exp</th>
                        <td id="T_98a2c_row3_col0" class="data row3 col0" >150,000</td>
                        <td id="T_98a2c_row3_col1" class="data row3 col1" >160,500</td>
                        <td id="T_98a2c_row3_col2" class="data row3 col2" >171,735</td>
                        <td id="T_98a2c_row3_col3" class="data row3 col3" >183,756</td>
                        <td id="T_98a2c_row3_col4" class="data row3 col4" >196,619</td>
                        <td id="T_98a2c_row3_col5" class="data row3 col5" >210,383</td>
                        <td id="T_98a2c_row3_col6" class="data row3 col6" >225,110</td>
                        <td id="T_98a2c_row3_col7" class="data row3 col7" >240,867</td>
                        <td id="T_98a2c_row3_col8" class="data row3 col8" >257,728</td>
                        <td id="T_98a2c_row3_col9" class="data row3 col9" >275,769</td>
                        <td id="T_98a2c_row3_col10" class="data row3 col10" >295,073</td>
                        <td id="T_98a2c_row3_col11" class="data row3 col11" >315,728</td>
                        <td id="T_98a2c_row3_col12" class="data row3 col12" >337,829</td>
                        <td id="T_98a2c_row3_col13" class="data row3 col13" >361,477</td>
                        <td id="T_98a2c_row3_col14" class="data row3 col14" >386,780</td>
            </tr>
            <tr>
                        <th id="T_98a2c_level0_row4" class="row_heading level0 row4" >Profit</th>
                        <td id="T_98a2c_row4_col0" class="data row4 col0" >-22,549</td>
                        <td id="T_98a2c_row4_col1" class="data row4 col1" >270,133</td>
                        <td id="T_98a2c_row4_col2" class="data row4 col2" >507,122</td>
                        <td id="T_98a2c_row4_col3" class="data row4 col3" >698,329</td>
                        <td id="T_98a2c_row4_col4" class="data row4 col4" >851,856</td>
                        <td id="T_98a2c_row4_col5" class="data row4 col5" >974,321</td>
                        <td id="T_98a2c_row4_col6" class="data row4 col6" >1,071,128</td>
                        <td id="T_98a2c_row4_col7" class="data row4 col7" >1,146,687</td>
                        <td id="T_98a2c_row4_col8" class="data row4 col8" >1,204,590</td>
                        <td id="T_98a2c_row4_col9" class="data row4 col9" >1,247,761</td>
                        <td id="T_98a2c_row4_col10" class="data row4 col10" >1,278,572</td>
                        <td id="T_98a2c_row4_col11" class="data row4 col11" >1,298,949</td>
                        <td id="T_98a2c_row4_col12" class="data row4 col12" >1,310,441</td>
                        <td id="T_98a2c_row4_col13" class="data row4 col13" >1,314,297</td>
                        <td id="T_98a2c_row4_col14" class="data row4 col14" >1,311,512</td>
            </tr>
    </tbody></table></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[63]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<style  type="text/css" >
</style><table id="T_f113b_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >1</th>        <th class="col_heading level0 col1" >2</th>        <th class="col_heading level0 col2" >3</th>        <th class="col_heading level0 col3" >4</th>        <th class="col_heading level0 col4" >5</th>        <th class="col_heading level0 col5" >6</th>        <th class="col_heading level0 col6" >7</th>        <th class="col_heading level0 col7" >8</th>        <th class="col_heading level0 col8" >9</th>        <th class="col_heading level0 col9" >10</th>        <th class="col_heading level0 col10" >11</th>        <th class="col_heading level0 col11" >12</th>        <th class="col_heading level0 col12" >13</th>        <th class="col_heading level0 col13" >14</th>        <th class="col_heading level0 col14" >15</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_f113b_level0_row0" class="row_heading level0 row0" >CapRat</th>
                        <td id="T_f113b_row0_col0" class="data row0 col0" >9.18%</td>
                        <td id="T_f113b_row0_col1" class="data row0 col1" >5.03%</td>
                        <td id="T_f113b_row0_col2" class="data row0 col2" >5.64%</td>
                        <td id="T_f113b_row0_col3" class="data row0 col3" >7.84%</td>
                        <td id="T_f113b_row0_col4" class="data row0 col4" >54.19%</td>
                        <td id="T_f113b_row0_col5" class="data row0 col5" >54.40%</td>
                        <td id="T_f113b_row0_col6" class="data row0 col6" >56.22%</td>
                        <td id="T_f113b_row0_col7" class="data row0 col7" >57.75%</td>
                        <td id="T_f113b_row0_col8" class="data row0 col8" >58.10%</td>
                        <td id="T_f113b_row0_col9" class="data row0 col9" >39.59%</td>
                        <td id="T_f113b_row0_col10" class="data row0 col10" >41.98%</td>
                        <td id="T_f113b_row0_col11" class="data row0 col11" >42.85%</td>
                        <td id="T_f113b_row0_col12" class="data row0 col12" >44.76%</td>
                        <td id="T_f113b_row0_col13" class="data row0 col13" >47.99%</td>
                        <td id="T_f113b_row0_col14" class="data row0 col14" >51.39%</td>
            </tr>
            <tr>
                        <th id="T_f113b_level0_row1" class="row_heading level0 row1" >ROE</th>
                        <td id="T_f113b_row1_col0" class="data row1 col0" >-21.84%</td>
                        <td id="T_f113b_row1_col1" class="data row1 col1" >5.78%</td>
                        <td id="T_f113b_row1_col2" class="data row1 col2" >27.41%</td>
                        <td id="T_f113b_row1_col3" class="data row1 col3" >29.63%</td>
                        <td id="T_f113b_row1_col4" class="data row1 col4" >28.47%</td>
                        <td id="T_f113b_row1_col5" class="data row1 col5" >30.92%</td>
                        <td id="T_f113b_row1_col6" class="data row1 col6" >23.33%</td>
                        <td id="T_f113b_row1_col7" class="data row1 col7" >20.02%</td>
                        <td id="T_f113b_row1_col8" class="data row1 col8" >20.24%</td>
                        <td id="T_f113b_row1_col9" class="data row1 col9" >15.18%</td>
                        <td id="T_f113b_row1_col10" class="data row1 col10" >13.52%</td>
                        <td id="T_f113b_row1_col11" class="data row1 col11" >13.25%</td>
                        <td id="T_f113b_row1_col12" class="data row1 col12" >12.62%</td>
                        <td id="T_f113b_row1_col13" class="data row1 col13" >10.81%</td>
                        <td id="T_f113b_row1_col14" class="data row1 col14" >9.65%</td>
            </tr>
            <tr>
                        <th id="T_f113b_level0_row2" class="row_heading level0 row2" >CORate</th>
                        <td id="T_f113b_row2_col0" class="data row2 col0" >1.79%</td>
                        <td id="T_f113b_row2_col1" class="data row2 col1" >1.30%</td>
                        <td id="T_f113b_row2_col2" class="data row2 col2" >0.83%</td>
                        <td id="T_f113b_row2_col3" class="data row2 col3" >0.66%</td>
                        <td id="T_f113b_row2_col4" class="data row2 col4" >0.42%</td>
                        <td id="T_f113b_row2_col5" class="data row2 col5" >0.32%</td>
                        <td id="T_f113b_row2_col6" class="data row2 col6" >0.33%</td>
                        <td id="T_f113b_row2_col7" class="data row2 col7" >0.38%</td>
                        <td id="T_f113b_row2_col8" class="data row2 col8" >0.26%</td>
                        <td id="T_f113b_row2_col9" class="data row2 col9" >0.47%</td>
                        <td id="T_f113b_row2_col10" class="data row2 col10" >0.47%</td>
                        <td id="T_f113b_row2_col11" class="data row2 col11" >0.50%</td>
                        <td id="T_f113b_row2_col12" class="data row2 col12" >0.44%</td>
                        <td id="T_f113b_row2_col13" class="data row2 col13" >0.53%</td>
                        <td id="T_f113b_row2_col14" class="data row2 col14" >0.55%</td>
            </tr>
    </tbody></table></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[64]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">discount</span> <span class="o">=</span> <span class="o">.</span><span class="mi">10</span>

<span class="n">d_co</span> <span class="o">=</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Shhr Debt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Shhr Debt&#39;</span><span class="p">]</span>
<span class="n">d_ci</span> <span class="o">=</span> <span class="n">OPCO_IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span>
<span class="n">opco_tv</span> <span class="o">=</span> <span class="n">OPCO_IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span><span class="o">*</span><span class="n">fico_mult</span>

<span class="n">d_co</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">d_co</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">d_ci</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">d_ci</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">opco_tv</span>

<span class="n">d_irr</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">)</span>
<span class="n">d_npv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">)</span>

<span class="n">e_co</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">BS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Req Equity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="n">e_ci</span> <span class="o">=</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">]</span>
<span class="n">fico_tv</span> <span class="o">=</span> <span class="n">IS3</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Profit&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span><span class="o">*</span><span class="n">opco_mult</span>

<span class="n">e_co</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">e_co</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">e_ci</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">e_ci</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">fico_tv</span>

<span class="n">e_irr</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>
<span class="n">e_npv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>

<span class="n">irr</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span> <span class="o">+</span> <span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>
<span class="n">npv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">d_co</span> <span class="o">+</span> <span class="n">d_ci</span> <span class="o">+</span> <span class="n">e_co</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">)</span>

<span class="n">irr_ex_tv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">irr</span><span class="p">(</span><span class="n">d_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">npv_ex_tv</span> <span class="o">=</span> <span class="n">npf</span><span class="o">.</span><span class="n">npv</span><span class="p">(</span><span class="n">discount</span><span class="p">,</span> <span class="n">d_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">d_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_co</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">e_ci</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<table><thead><tr><th>Capital</th><th>NPV</th><th>IRR</th></tr></thead><tbody><tr><td>Debt</td><td>2,552,624</td><td>14.8%</td></tr><tr><td>Equity</td><td>4,168,849</td><td>67.5%</td></tr><tr><td>Total</td><td>6,721,474</td><td>20.2%</td></tr><tr><td>Total ex TV</td><td>3,635,140</td><td>17.4%</td></tr></tbody><tfoot><tr><td colspan=3>NPV assumes 10% discount</td></tr></tfoot></table></div>
</div>
<p>We can above that refinancing of shareholder loans via standard 3rd party debt (likely bank debt) can significantly improve shareholder returns.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pricing.html" class="btn btn-neutral float-left" title="Loan Pricing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, rskene.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>